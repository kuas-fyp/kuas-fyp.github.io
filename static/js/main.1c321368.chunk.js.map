{"version":3,"sources":["assets/logoWideBlue.png","container/Departments/Departments.module.scss","container/Community/Community.module.scss","container/PendingAlumni/PendingAlumni.module.scss","assets/logoWide.png","container/Alumni/Alumni.module.scss","container/HeadOfDepartments/HeadOfDepartments.module.scss","container/Dashboard/Dashboard.module.scss","assets/alumni.svg","assets/admin.svg","assets/department.svg","assets/faculty.svg","assets/logoB.png","shared/theme.js","shared/api.js","shared/verb.js","redux/actions/auth/index.js","redux/services/auth/index.js","container/Login/Login.js","component/ProtectedRoute/ProtectedRoute.js","container/Register/Register.js","component/PublicRoute/PublicRoute.js","container/Main/Menu.js","redux/actions/alumni/index.js","redux/services/alumni/index.js","container/Alumni/Alumni.js","redux/actions/hod/index.js","redux/services/HOD/index.js","container/HeadOfDepartments/HeadOfDepartments.js","redux/actions/departments/index.js","redux/services/departments/index.js","container/Departments/Departments.js","redux/actions/user/index.js","redux/services/user/index.js","container/UserProfile/UserProfile.js","component/PostValue/PostValue.js","component/Post/Post.js","component/CommentDrawer/CommentDrawer.js","redux/actions/community/index.js","redux/services/community/index.js","container/Community/Community.js","redux/actions/dashboard/index.js","redux/services/dashboard/index.js","container/Dashboard/Dashboard.js","container/PendingAlumni/PendingAlumni.js","container/Main/routes.js","container/Main/Main.js","App.js","redux/reducers/auth/index.js","redux/reducers/alumni/index.js","redux/reducers/departments/index.js","redux/reducers/user/index.js","redux/reducers/dashboard/index.js","redux/reducers/community/index.js","redux/reducers/hod/index.js","redux/reducers/index.js","redux/store/configureStore.js","index.js","container/UserProfile/UserProfile.module.scss","component/Post/Post.module.scss","assets/logo.png"],"names":["module","exports","__webpack_require__","p","container","departmentItem","scrollBtn","pendingAlumni","theme","main","light","secondary","api","interceppedAxios","createAuthRefreshInterceptor","axios","failedRequest","put","concat","refreshToken","localStorage","getItem","then","tokenRefreshResponse","setItem","data","IdToken","response","config","headers","Promise","resolve","statusCodes","request","url","type","noHeaders","params","reject","token","method","Authorization","actions","SET_USER_TOKEN","SET_USER","SET_AUTH_STATUS","setUserData","setAuthStatus","logout","dispatch","clear","setUser","RefreshToken","AccessToken","signIn","_ref","userToken","TokenContainer","mongoDB","catch","registerUser","body","changePassword","verifyUserCode","resendUserCode","Login","state","login","loginLoader","handleSubmit","e","_this","setState","preventDefault","props","form","validateFields","err","values","username","userName","password","signedIn","resetFields","openNotification","notification","error","message","renderForm","getFieldDecorator","react_default","a","createElement","es_form","onSubmit","className","style","display","margin","userDrag","src","logoWideBlue","width","alt","Item","rules","required","input","prefix","es_icon","color","autoFocus","placeholder","valuePropName","initialValue","es_checkbox","es_button","background","htmlType","textAlign","onClick","push","logoImg","zIndex","this","Component","connect","bindActionCreators","Form","create","name","ProtectedRoute","component","auth","rest","Object","objectWithoutProperties","react_router","assign","render","to","pathname","from","location","Option","Select","Step","Steps","formItemLayout","labelCol","xs","span","sm","md","wrapperCol","Register","current","codeValue","email","value","fullName","rePassword","enrollmentNo","tip","nicNo","DOB","gender","undefined","registeringLoader","verifyingCode","verificationStatus","handleChange","validator","keyName","defineProperty","objectSpread","target","formItem","label","obj","onChange","validateStatus","help","errorMsg","validateRePassword","pwd","arguments","length","trim","validationStatus","checkFirstValidationStatus","checkSecondValidationStatus","_this$state","validateFullName","validateEmail","validatePassword","_this$state2","validateEnrollment","validateNIC","validateDOB","validateGender","accountsForm","_this$state3","personalDetailsForm","_this$state4","date_picker","format","es_select","optionFilterProp","id","registeredUser","_id","code","success","setTimeout","window","replace","lastConfirmationStep","height","paddingTop","boxSizing","fontWeight","Fragment","maxWidth","disabled","onPressEnter","shape","icon","marginLeft","renderSteps","steps","map","item","key","title","content","next","warn","prev","test","String","toLowerCase","enr","nic","dob","_d","_this2","role","_data$data","tokenContainer","_ref2","PublicRoute","alumni","link","admin","superAdmin","toConsumableArray","getAllAlumni","setAllAlumni","getAllPendingAlumni","setPendingAlumni","updateAlumni","status","Search","Input","ucFirst","string","charAt","toUpperCase","slice","columns","rowData","align","filters","text","onFilter","record","skills","s","i","tag","marginBottom","dataIndex","stopPropagation","href","TableHeading","onRefresh","onSearch","justifyContent","alignItems","padding","size","marginRight","Alumni","tableHeight","loading","searchKey","resizeTableHandler","innerHeight","refresh","allAlumni","addEventListener","removeEventListener","filter","keys","some","includes","_this3","styles","table","Alumni_TableHeading","onRow","rowKey","row","dataSource","filterIt","bordered","pagination","hideOnSinglePage","scroll","y","x","bodyStyle","setAllHOD","getAllHOD","createHOD","prevSource","newSource","FormItem","modalAction","HeadOfDepartments_Search","console","log","HOD","spiner","getData","_callee","regenerator_default","wrap","_context","stop","action","modalOpen","renderGender","HeadOfDepartments_Option","Date","now","moment","allHOD","user","spin","spinning","modal","visible","onOk","onCancel","horizontal","FormInput","isDisabled","maxLength","minLength","FormDropDown","renderOptions","DatePicker","HeadOfDepartments_TableHeading","_ref3","len","min","_ref4","getPopupContainer","trigger","parentNode","_ref5","hod","setAllDepartments","getAllDepartments","addDepartment","deleteDepartment","confirm","Modal","Departments_Search","Departments","inviteCheck","spinner","showDeleteConfirm","depart","okText","okType","cancelText","cursor","editDepart","menu","es_menu","renderUsers","Departments_Option","allDepartments","filteredData","Departments_TableHeading","val","fontSize","flexWrap","maxHeight","overflow","d","DepartmentItem","marginTop","flex","destroyOnClose","initials","dropdown","overlay","Departments_FormItem","departments","setCurrentUser","getCurrentUser","updateUser","InfoItem","UserProfile","currId","editModal","editing","split","departs","_this4","flexDirection","currentUser","_data","phone","bio","address","createdAt","department","degree","company","workingExperience","jobTitle","employmentStatus","ref","el","componentRef","alumniProfile","top","profileBanner","profileImg","avatar","profileTopData","textTransform","lib_default","backBtn","personalDetails","info","infoItems","okButtonProps","centered","TextArea","dropdownStyle","mode","maxTagCount","router","React","memo","verifiedUser","addHandler","topBarStyle","border","borderBottom","borderRadius","_useState","useState","_useState2","slicedToArray","setValue","_useState3","_useState4","broadcast","setBroadcast","_useState5","_useState6","loader","setLoader","_useState7","_useState8","dropOpen","setDropOpen","onFocus","onBlur","resize","boxShadow","rows","borderTop","checked","editPost","deletePost","routeTo","userId","currUser","timestamp","statusText","likeCount","commentsCount","onLikeClick","onDislikeClick","onCommentClick","liked","timeoutFlag","post","mainInfo","timeStamp","tooltip","placement","mouseEnterDelay","dist_default","fromNow","date","menuIcon","postData","reactionContainer","clearTimeout","Comment","onDelete","index","CommentDrawer","deleteComment","scrollToBottom","messagesEnd","scrollIntoView","behavior","_this$props","commentLoading","addComment","onDislikeHandler","onClose","commenting","onLikeHandler","onDeletePostHandler","commentsList","sender","likedBy","comments","component_Post_Post","postId","c","userSelect","drawer","closable","Boolean","position","bottom","left","borderColor","lineHeight","float","PureComponent","SET_ALL_POSTS","SET_POSTS_COUNT","SET_BROADCASTED_POSTS_COUNT","SET_BROADCASTED_POSTS","setAllPosts","setAllBroadcastedPosts","getAllPosts","page","setPostsCount","count","posts","getAllBroadcastedPosts","setBroadcastPostsCount","createPost","updatePost","TabPane","Tabs","smoothscroll","polyfill","Community","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","listenToScroll","myRef","scrollTop","scrollToTop","verified","updatedPosts","allPosts","find","updatedLikers","addPostHandler","unshift","filteredPosts","comment","currPost","tempComments","deleteCommentHandler","currentPost","loadMore","loadingMore","prevState","deletePostHandler","handleOk","editValue","confirmLoading","_this$state$selectedP","selectedPost","handleCancel","editingPost","handleTabViewChange","tabViewKey","allBroadcastedPosts","broadcastLoading","createRef","PostValue_PostValue","tabs","activeKey","tabPosition","tab","sort","Math","ceil","postsCount","CommentDrawer_CommentDrawer","TextArea_default","community","getDashboardStats","setDashboardStats","getCommunityStats","setCommunityStats","lastMonthTrend","cards","alumniIcon","departmentIcon","adminIcon","facultyIcon","DataCard","card","build_default","start","end","Dashboard","options","labels","responsive","breakpoint","chart","legend","series","timeSeriesOptions","stacked","zoom","enabled","toolbar","show","plotOptions","line","curve","dataLabels","markers","fill","gradient","shadeIntensity","inverseColors","opacityFrom","opacityTo","stops","yaxis","formatter","toFixed","xaxis","shared","communityStats","stats","_this$props$stats$emp","employed","partTime","selfEmployed","unEmployed","gutter","lg","col","react_apexcharts_min_default","dashboard","Header","_ref2$onSearch","PendingAlumni_Search","PendingAlumni","selectedAlumni","handleVerify","handleReject","PendingAlumni_Header","footer","PendingAlumni_InfoItem","routes","path","exact","strict","HeadOfDepartments","Layout","Sider","Content","Menu","Main","collapsed","selected","codeVerifying","codeVerificationModal","pwdModal","changePwdLoader","toggle","newPwd","newPwdAgain","oldPassword","newPassword","arr","menuList","layout","collapsible","logo","logoWide","defaultSelectedKeys","selectedKeys","onSelect","m","Main_Header","letterSpacing","textDecoration","r","resendTimer","resendEmailLoader","max","App","authLoader","verifyMe","signOut","NoPageFound","isAuth","component_PublicRoute_PublicRoute","container_Login_Login","component_ProtectedRoute_ProtectedRoute","container_Main_Main","authenticated","INITIAL_STATE","reducer","initialState","reducers_alumni","reducers_user","admins","faculty","broadcastedPostsCount","reducers","history","combineReducers","connectRouter","newHistory","store","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","routerMiddleware","createStore","rootReducer","configureStore","ReactDOM","es","esm","src_App_0","document","getElementById","dropDown","dropDownBtn"],"mappings":"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","file":"static/js/main.1c321368.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logoWideBlue.f4883f42.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Departments_container__1c2dr\",\"departmentItem\":\"Departments_departmentItem__Jlhyk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Community_container__2iFR1\",\"scrollBtn\":\"Community_scrollBtn__Tpeyt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PendingAlumni_container__1LEsE\",\"pendingAlumni\":\"PendingAlumni_pendingAlumni__1nyLM\"};","module.exports = __webpack_public_path__ + \"static/media/logoWide.23236c51.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Alumni_container__3QRzE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"HeadOfDepartments_container__1FhZX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Dashboard_container__2ruYS\"};","module.exports = __webpack_public_path__ + \"static/media/alumni.8e7fc282.svg\";","module.exports = __webpack_public_path__ + \"static/media/admin.fdb750b0.svg\";","module.exports = __webpack_public_path__ + \"static/media/department.b43e383e.svg\";","module.exports = __webpack_public_path__ + \"static/media/faculty.537860fa.svg\";","module.exports = __webpack_public_path__ + \"static/media/logoB.06673761.png\";","export const theme = {\r\n  main: '#2B579A',\r\n  light: '##3E6DB5',\r\n  secondary: '#fafafa'\r\n}","export default 'https://6067j9uf3l.execute-api.us-east-1.amazonaws.com/test/';\r\n\r\n// export default 'http://192.168.0.112:3000/';","import api from './api';\r\nimport axios from 'axios';\r\nimport createAuthRefreshInterceptor from 'axios-auth-refresh';\r\n\r\nconst fetchToken = () => localStorage.getItem('token');\r\n\r\n\r\n// Function that will be called to refresh authorization\r\nconst refreshAuthLogic = failedRequest => axios.put(`${api}/user/refresh`, {\r\n  \"refreshToken\": localStorage.getItem('refreshToken')\r\n}).then(tokenRefreshResponse => {\r\n  localStorage.setItem('token', tokenRefreshResponse.data.data.IdToken);\r\n  failedRequest.response.config.headers['Authorization'] = tokenRefreshResponse.data.data.IdToken;\r\n  return Promise.resolve();\r\n});\r\n\r\n// Instantiate the interceptor (you can chain it as it returns the axios instance)\r\nconst interceppedAxios = createAuthRefreshInterceptor(axios, refreshAuthLogic, {\r\n  statusCodes: [500]\r\n});\r\n\r\n\r\n\r\n\r\nexport const request = (url, data, type, noHeaders, params) => new Promise((resolve, reject) => {\r\n  let token = '';\r\n  const request = {\r\n    'method': type,\r\n    'url': api + url\r\n  };\r\n  noHeaders || (token = fetchToken());\r\n  type !== 'get' && (request.data = data);\r\n  noHeaders || (request.headers = { 'Authorization': token });\r\n  params && (request.params = params);\r\n  interceppedAxios(request).then(resolve, reject);\r\n});","\r\nexport const actions = {\r\n  SET_USER_TOKEN: 'SET_USER_TOKEN',\r\n  SET_USER: 'SET_USER',\r\n  SET_AUTH_STATUS: 'SET_AUTH_STATUS',\r\n}\r\n\r\nexport const setUserData = (data) => ({\r\n  type: actions.SET_USER,\r\n  data\r\n});\r\n\r\nexport const setAuthStatus = (data) => ({\r\n  type: actions.SET_AUTH_STATUS,\r\n  data\r\n});\r\n\r\nexport const setUserToken = (userToken) => ({\r\n  type: actions.SET_USER_TOKEN,\r\n  data: userToken\r\n});\r\n","import { request } from '../../../shared/verb.js';\r\n\r\nimport { setUserToken, setUserData } from \"../../actions/auth\";\r\n\r\n\r\nexport const logout = () => {\r\n  return (dispatch) => {\r\n    localStorage.clear();\r\n    dispatch({ type: 'LOGOUT' });\r\n  };\r\n};\r\n\r\nexport const setUser = (token) => {\r\n  localStorage.setItem('token', token.IdToken);\r\n  localStorage.setItem('refreshToken', token.RefreshToken);\r\n  localStorage.setItem('accessToken', token.AccessToken);\r\n}\r\n\r\nexport const signIn = (data, resolve, reject) => {\r\n  return (dispatch) => {\r\n    request('auth/login', data, 'post')\r\n      .then(({ data }) => {\r\n        dispatch(setUserToken(data.data.TokenContainer.IdToken));\r\n        dispatch(setUserData(data.data.mongoDB[0]));\r\n        setUser(data.data.TokenContainer);\r\n        resolve();\r\n      })\r\n      .catch(reject);\r\n  };\r\n};\r\n\r\nexport const refreshToken = () => {\r\n  return () => {\r\n    request('auth/refresh', { refreshToken: localStorage.getItem('refreshToken') }, 'put')\r\n      .then(({ data }) => {\r\n        localStorage.setItem('token', data.data.IdToken);\r\n        localStorage.setItem('accessToken', data.data.AccessToken);\r\n      })\r\n  };\r\n};\r\n\r\n\r\n\r\n// Fetches User info.\r\nexport const getUser = (resolve = () => { }, reject = () => { }) => {\r\n  return (dispatch) => {\r\n    return request('user/me', null, 'get')\r\n      .then(({ data }) => {\r\n        dispatch(setUserData(data.data));\r\n        resolve(data.cognito);\r\n      }, reject)\r\n  };\r\n};\r\n\r\nexport const registerUser = (body) => dispatch => {\r\n  return request('auth/register', body, 'post', true);\r\n}\r\n\r\nexport const changePassword = (body) => dispatch => {\r\n  return request('auth/changePassword', body, 'post');\r\n}\r\n\r\nexport const verifyUserCode = (body) => dispatch => {\r\n  return request('auth/verify', body, 'post');\r\n}\r\n\r\nexport const resendUserCode = (body) => dispatch => {\r\n  return request('user/resendCode', body, 'post');\r\n}\r\n\r\n// // Forgot Password.\r\n// export const forgotPassword = (data, resolve, reject) => {\r\n//   return (dispatch) => {\r\n//     return axios.post(`${api.url}user/auth/forget-password/`, data)\r\n//       .then(() => {\r\n//         const m = `An email has been sent to ${data.username}. Follow the instructions there to reset your password.`;\r\n//         const notificationOpts = {\r\n//           title: 'Success!',\r\n//           message: m,\r\n//           position: 'tr',\r\n//           autoDismiss: 5\r\n//         };\r\n//         dispatch(Notifications.success(notificationOpts));\r\n//         dispatch(closeModal());\r\n//         resolve();\r\n//       })\r\n//       .catch((error) => {\r\n//         const notificationOpts = {\r\n//           title: 'Oops! Something went wrong.',\r\n//           message: error.response.data.message,\r\n//           position: 'tr',\r\n//           autoDismiss: 5\r\n//         };\r\n//         dispatch(Notifications.error(notificationOpts));\r\n//         dispatch(closeModal());\r\n//         dispatch(replace('/'));\r\n//         reject();\r\n//       });\r\n//   };\r\n// };\r\n\r\n// // Validates the reset token.\r\n// export const validateResetToken = (token, resolve, reject) => {\r\n//   return (dispatch) => {\r\n//     return axios.post(`${api.url}user/auth/verify-password-reset`, token)\r\n//       .then(({ data }) => {\r\n//         console.log(data.data);\r\n//         resolve(data.data);\r\n//         dispatch(setResetToken(token.token));\r\n//       })\r\n//       .catch((error) => {\r\n//         const notificationOpts = {\r\n//           title: 'Oops! Something went wrong.',\r\n//           message: error.response.data.message,\r\n//           position: 'tr',\r\n//           autoDismiss: 5\r\n//         };\r\n//         dispatch(Notifications.error(notificationOpts));\r\n//         // dispatch(replace('/'));\r\n//         reject();\r\n//       });\r\n//   };\r\n// };\r\n\r\n// export const resetPassword = (data, resolve, reject) => {\r\n//   return (dispatch) => {\r\n//     return axios.post(`${api.url}user/auth/reset-password`, data)\r\n//       .then(({ data }) => {\r\n//         const m = `password changed successfully!.`;\r\n//         const notificationOpts = {\r\n//           title: 'Success!',\r\n//           message: m,\r\n//           position: 'tr',\r\n//           autoDismiss: 5\r\n//         };\r\n//         dispatch(Notifications.success(notificationOpts));\r\n//         resolve(data.data);\r\n//         setUser(data.data.user, data.data.token);\r\n//         dispatch(setUserToken(data.data.token));\r\n//         dispatch(setUserData(data.data.user));\r\n//         dispatch(setResetToken(null));\r\n//         dispatch(replace('/dashboard'));\r\n//       })\r\n//       .catch((error) => {\r\n//         const notificationOpts = {\r\n//           title: 'Oops! Something went wrong.',\r\n//           message: error.response.data.message,\r\n//           position: 'tr',\r\n//           autoDismiss: 5\r\n//         };\r\n//         dispatch(Notifications.error(notificationOpts));\r\n//         reject();\r\n//         return error;\r\n//       });\r\n//   };\r\n// };\r\n\r\n\r\n\r\n// export const changePassword = (data, resolve, reject) => {\r\n//   return (dispatch) => {\r\n//     return axios.put(`${api.url}user/me/change-password`, data, {\r\n//       headers: {\r\n//         \"x-access-token\": localStorage.getItem('token')\r\n//       }\r\n//     })\r\n//       .then(() => {\r\n//         const notificationOpts = {\r\n//           title: 'Success!.',\r\n//           message: 'Password changed successfully!',\r\n//           position: 'tr',\r\n//           autoDismiss: 5\r\n//         };\r\n//         dispatch(Notifications.success(notificationOpts));\r\n//         resolve();\r\n//       })\r\n//       .catch((error) => {\r\n//         const notificationOpts = {\r\n//           title: 'Oops! Something went wrong.',\r\n//           message: error.response.data.message,\r\n//           position: 'tr',\r\n//           autoDismiss: 5\r\n//         };\r\n//         dispatch(Notifications.error(notificationOpts));\r\n//         reject();\r\n//       });\r\n//   };\r\n// };","import React, { Component } from 'react'\r\nimport {\r\n  Form,\r\n  Icon,\r\n  Input,\r\n  Button,\r\n  Checkbox,\r\n  notification,\r\n} from 'antd';\r\nimport './Login.scss';\r\nimport { theme } from '../../shared/theme';\r\nimport logoImg from '../../assets/logo.png';\r\nimport { push } from 'connected-react-router';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { signIn } from '../../redux/services/auth'\r\nimport logoWideBlue from '../../assets/logoWideBlue.png'\r\nclass Login extends Component {\r\n\r\n  state = {\r\n    login: false,\r\n    loginLoader: false,\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    this.setState({ loginLoader: true });\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        new Promise((resolve, reject) => {\r\n          this.props.signIn({\r\n            username: values.userName,\r\n            password: values.password,\r\n          }, resolve, reject)\r\n        }).then(() => {\r\n          this.setState({ loginLoader: false });\r\n          this.props.signedIn();\r\n        }, () => {\r\n          this.props.form.resetFields(['password']);\r\n          this.setState({ loginLoader: false });\r\n          this.openNotification();\r\n        })\r\n      } else {\r\n        this.setState({ loginLoader: false });\r\n      }\r\n    });\r\n  }\r\n\r\n  openNotification = () => {\r\n    notification.error({\r\n      message: 'Sorry, your email or password are incorrect - please try again.',\r\n    });\r\n  }\r\n\r\n  renderForm = () => {\r\n    const { getFieldDecorator } = this.props.form;\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n        <img className='medium' style={{ display: 'block', margin: 30, userDrag: 'none' }} src={logoWideBlue} width={300} alt=\"logo\" />\r\n        <h2 className='large h-font'>Login to your account</h2>\r\n        <Form.Item>\r\n          {getFieldDecorator('userName', {\r\n            rules: [{ required: true, message: 'Please input your email!' }],\r\n          })(\r\n            <Input prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} type='email' autoFocus placeholder=\"Email\" />\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item>\r\n          {getFieldDecorator('password', {\r\n            rules: [{ required: true, message: 'Please input your Password!' }],\r\n          })(\r\n            <Input prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} type=\"password\" placeholder=\"Password\" />\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item>\r\n          {getFieldDecorator('remember', {\r\n            valuePropName: 'checked',\r\n            initialValue: true,\r\n          })(\r\n            <Checkbox>Remember me</Checkbox>\r\n          )}\r\n          {/* <a className=\"login-form-forgot\" href=\"/\">Forgot password</a> */}\r\n          <Button\r\n            style={{\r\n              background: theme.main,\r\n              color: theme.secondary\r\n            }}\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            className=\"login-form-button\"\r\n          >\r\n            {this.state.loginLoader ? <Icon type=\"loading\" style={{ width: '38.3px' }} /> : \"Log in\"}\r\n          </Button>\r\n          <span style={{ textAlign: 'center', display: 'block' }}>\r\n            Don't have an account?\r\n            <span\r\n              className='highlightedLink'\r\n              onClick={() => this.props.push('/register')}\r\n            > Register now!</span>\r\n          </span>\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='login'>\r\n        <div className=\"desc large\">\r\n          <div className=\"overlay\"></div>\r\n          <img src={logoImg} width={220} alt=\"logo\" style={{ zIndex: 150 }} />\r\n          <p style={{ zIndex: 150 }}>\r\n            Karachi University Alumni System (KUAS) is an online application system which can act as a interactive medium between the old student and the University of Karachi. KUAS is a web based application which helps the institutions to track old students and to track them for future endeavours.\r\n          </p>\r\n        </div>\r\n        <div className=\"loginForm\">\r\n          {this.renderForm()}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({\r\n    push,\r\n    signIn\r\n  }, dispatch);\r\n}\r\n\r\n\r\nexport default connect(null, mapDispatchToProps)(Form.create({ name: 'login' })(Login));","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nconst ProtectedRoute = ({\r\n  component: Component,\r\n  auth,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        if (auth) {\r\n          return <Component {...props} />;\r\n        } else {\r\n          return (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/\",\r\n                state: {\r\n                  from: props.location\r\n                }\r\n              }}\r\n            />\r\n          );\r\n        }\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","import React, { Component } from 'react'\r\nimport { Steps, Button, message, Form, Input, DatePicker, Select, Icon } from 'antd';\r\nimport { push } from 'connected-react-router';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\n// import moment from 'moment';\r\nimport './Register.scss';\r\nimport logoImg from '../../assets/logo.png';\r\nimport logoWideBlue from '../../assets/logoWideBlue.png'\r\nimport { registerUser, verifyUserCode, setUser } from '../../redux/services/auth'\r\n\r\nconst Option = Select.Option;\r\nconst Step = Steps.Step;\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 8 },\r\n    md: { span: 4 },\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 16 },\r\n    md: { span: 20 },\r\n  },\r\n};\r\n\r\nclass Register extends Component {\r\n  state = {\r\n    current: 0,\r\n    codeValue: '',\r\n    email: {\r\n      value: '',\r\n    },\r\n    fullName: {\r\n      value: '',\r\n    },\r\n    password: {\r\n      value: '',\r\n    },\r\n    rePassword: {\r\n      value: '',\r\n    },\r\n    enrollmentNo: {\r\n      value: '',\r\n      tip: 'for eg. \"SCI/DCS/EP-XXXXX/XXXX\"'\r\n    },\r\n    nicNo: {\r\n      value: '',\r\n      tip: '13 digits (without dashes) \"4210198765439\"'\r\n    },\r\n    DOB: {\r\n      value: '',\r\n      tip: 'DD/MM/YYYY for eg. \"01/03/1997\"'\r\n    },\r\n    gender: {\r\n      value: undefined,\r\n    },\r\n    registeringLoader: false,\r\n    verifyingCode: false,\r\n    verificationStatus: null\r\n  }\r\n\r\n  handleChange = (e, validator, keyName) => {\r\n    this.setState({\r\n      [keyName]: {\r\n        ...validator(e.target.value),\r\n        value: e.target.value,\r\n        tip: this.state[keyName].tip,\r\n      },\r\n    });\r\n  }\r\n\r\n  formItem = (label, obj, type, onChange, placeholder, required, autoFocus) => (\r\n    <Form.Item\r\n      required={required}\r\n      label={label}\r\n      {...formItemLayout}\r\n      validateStatus={obj.validateStatus}\r\n      help={obj.errorMsg || obj.tip}\r\n    >\r\n      <Input\r\n        value={obj.value}\r\n        type={type}\r\n        onChange={onChange}\r\n        placeholder={placeholder}\r\n        autoFocus={autoFocus}\r\n      />\r\n    </Form.Item>\r\n  )\r\n\r\n  validateFullName(name = '') {\r\n    if (name.trim() !== '') {\r\n      return {\r\n        validateStatus: 'success',\r\n        errorMsg: null,\r\n      };\r\n    }\r\n    return {\r\n      validateStatus: 'error',\r\n      errorMsg: 'Full Name is required!',\r\n    };\r\n  }\r\n\r\n  validateEmail(email) {\r\n    //validation here\r\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    if (re.test(String(email).toLowerCase())) {\r\n      return {\r\n        validateStatus: 'success',\r\n        errorMsg: null,\r\n      };\r\n    }\r\n    return {\r\n      validateStatus: 'error',\r\n      errorMsg: 'Please enter valid email address',\r\n    };\r\n  }\r\n\r\n  validatePassword(pwd) {\r\n    var re = /^(?=.*[0-9])[a-zA-Z0-9! @#$%^&*]{8,16}$/;\r\n    if (re.test(String(pwd).toLowerCase())) {\r\n      return {\r\n        validateStatus: 'success',\r\n        errorMsg: null,\r\n      };\r\n    }\r\n    return {\r\n      validateStatus: 'error',\r\n      errorMsg: 'Password must contain min. 8 and max. 16 characters including at least an alphabet and a number',\r\n    };\r\n  }\r\n\r\n  validateEnrollment(enr) {\r\n    var re = /^[A-Za-z]{3}\\/[A-Za-z]{3}\\/EP-[0-9]{3,7}\\/[0-9]{4}/;\r\n    if (re.test(String(enr))) {\r\n      return {\r\n        validateStatus: 'success',\r\n        errorMsg: null,\r\n      };\r\n    }\r\n    return {\r\n      validateStatus: 'error',\r\n      errorMsg: 'Enrollment number is invalid \"SCI/DCS/EP-XXXXX/XXXX\"',\r\n    };\r\n  }\r\n\r\n  validateNIC(nic) {\r\n    var re = /(^.{13,13})$/;\r\n    if (re.test(String(nic))) {\r\n      return {\r\n        validateStatus: 'success',\r\n        errorMsg: null,\r\n      };\r\n    }\r\n    return {\r\n      validateStatus: 'error',\r\n      errorMsg: '13 digits (without dashes) \"4210198765439\"',\r\n    };\r\n  }\r\n\r\n  validateDOB(dob) {\r\n    if (dob && dob._d) {\r\n      return {\r\n        validateStatus: 'success',\r\n        errorMsg: null,\r\n      };\r\n    }\r\n    return {\r\n      validateStatus: 'error',\r\n      errorMsg: 'Please enter date of birth',\r\n    };\r\n  }\r\n\r\n  validateGender(gender) {\r\n    if (gender) {\r\n      return {\r\n        validateStatus: 'success',\r\n        errorMsg: null,\r\n      };\r\n    }\r\n    return {\r\n      validateStatus: 'error',\r\n      errorMsg: 'Please select your gender',\r\n    };\r\n  }\r\n\r\n  validateRePassword = (pwd = '') => {\r\n    if (pwd.trim() !== '' && pwd === this.state.password.value) {\r\n      return {\r\n        validateStatus: 'success',\r\n        errorMsg: null,\r\n      };\r\n    }\r\n    return {\r\n      validateStatus: 'error',\r\n      errorMsg: 'Password does not match!',\r\n    };\r\n  }\r\n\r\n  validationStatus = () => {\r\n    switch (this.state.current) {\r\n      case 0:\r\n        return this.checkFirstValidationStatus();\r\n      case 1:\r\n        return this.checkSecondValidationStatus();\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  checkFirstValidationStatus = () => {\r\n    const { email, fullName, password, rePassword } = this.state;\r\n    this.handleChange({ target: { value: fullName.value } }, this.validateFullName, 'fullName');\r\n    this.handleChange({ target: { value: email.value } }, this.validateEmail, 'email');\r\n    this.handleChange({ target: { value: password.value } }, this.validatePassword, 'password');\r\n    this.handleChange({ target: { value: rePassword.value } }, this.validateRePassword, 'rePassword');\r\n    return email.validateStatus === 'success' && fullName.validateStatus === 'success' && password.validateStatus === 'success' && rePassword.validateStatus === 'success';\r\n  }\r\n\r\n  checkSecondValidationStatus = () => {\r\n    const { DOB, enrollmentNo, nicNo, gender } = this.state;\r\n    this.handleChange({ target: { value: enrollmentNo.value } }, this.validateEnrollment, 'enrollmentNo');\r\n    this.handleChange({ target: { value: nicNo.value } }, this.validateNIC, 'nicNo');\r\n    this.setState({\r\n      DOB: {\r\n        ...this.validateDOB(DOB.value),\r\n        value: DOB.value,\r\n        tip: 'DD/MM/YYYY for eg. \"01/03/1997\"'\r\n      },\r\n    });\r\n    this.setState({\r\n      gender: {\r\n        ...this.validateGender(gender.value),\r\n        value: gender.value,\r\n      },\r\n    });\r\n    return enrollmentNo.validateStatus === 'success' && nicNo.validateStatus === 'success' && DOB.validateStatus === 'success' && gender.validateStatus === 'success';\r\n  }\r\n\r\n  accountsForm = () => {\r\n    const { email, fullName, password, rePassword } = this.state;\r\n    return (\r\n      <Form className='form' {...formItemLayout}>\r\n        {this.formItem(\"Full Name:\", fullName, 'text', (e) => this.handleChange(e, this.validateFullName, 'fullName'), \"Enter your full name\", true, true)}\r\n        {this.formItem(\"Email:\", email, 'email', (e) => this.handleChange(e, this.validateEmail, 'email'), \"Enter your email address\", true)}\r\n        {this.formItem(\"Password:\", password, 'password', (e) => this.handleChange(e, this.validatePassword, 'password'), \"Enter a password\", true)}\r\n        {this.formItem(\"Password (Again):\", rePassword, 'password', (e) => this.handleChange(e, this.validateRePassword, 'rePassword'), \"Enter your password again\", true)}\r\n      </Form >\r\n    )\r\n  }\r\n\r\n  personalDetailsForm = () => {\r\n    const { enrollmentNo, nicNo, DOB, gender } = this.state;\r\n    return (\r\n      <Form className='form' {...formItemLayout}>\r\n        {this.formItem(\"Enrollment No:\", enrollmentNo, 'text', (e) => this.handleChange(e, this.validateEnrollment, 'enrollmentNo'), \"Enter your enrollment number\", true, true)}\r\n        {this.formItem(\"NIC no:\", nicNo, 'number', (e) => this.handleChange(e, this.validateNIC, 'nicNo'), \"Enter your NIC number\", true)}\r\n        <Form.Item\r\n          required\r\n          label={\"Date of Birth :\"}\r\n          {...formItemLayout}\r\n          validateStatus={DOB.validateStatus}\r\n          help={DOB.errorMsg || DOB.tip}\r\n        >\r\n          <DatePicker\r\n            format='DD/MM/YYYY'\r\n            value={DOB.value}\r\n            onChange={(e) => {\r\n              this.setState({\r\n                DOB: {\r\n                  ...this.validateDOB(e),\r\n                  value: e,\r\n                  tip: 'DD/MM/YYYY for eg. \"01/03/1997\"'\r\n                },\r\n              });\r\n            }}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          required\r\n          label={\"Gender :\"}\r\n          {...formItemLayout}\r\n          validateStatus={gender.validateStatus}\r\n          help={gender.errorMsg || gender.tip}\r\n        >\r\n          <Select\r\n            placeholder='Select your gender'\r\n            style={{ width: 170 }}\r\n            optionFilterProp=\"children\"\r\n            value={gender.value}\r\n            onChange={(e) => {\r\n              this.setState({\r\n                gender: {\r\n                  ...this.validateGender(e),\r\n                  value: e,\r\n                },\r\n              });\r\n            }}\r\n          >\r\n            <Option value=\"male\">Male</Option>\r\n            <Option value=\"female\">Female</Option>\r\n            <Option value=\"other\">Others</Option>\r\n          </Select>\r\n        </Form.Item>\r\n      </Form >\r\n    )\r\n  }\r\n\r\n  verifyUserCode = () => {\r\n    if (!this.state.codeValue.trim()) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      verifyingCode: true,\r\n    })\r\n    this.props.verifyUserCode({\r\n      id: this.state.registeredUser._id,\r\n      code: +this.state.codeValue,\r\n    }).then(() => {\r\n      message.success('Congratulation! your email has been verified!');\r\n      this.setState({\r\n        verifyingCode: false,\r\n        verificationStatus: 'verified'\r\n      })\r\n      setTimeout(() => {\r\n        window.location.replace('/');\r\n      }, 1500);\r\n    }, () => {\r\n      message.error('Incorrect verification code.');\r\n      this.setState({\r\n        verifyingCode: false,\r\n        verificationStatus: null,\r\n      })\r\n    })\r\n  }\r\n\r\n  lastConfirmationStep = () => (\r\n    <div style={{\r\n      textAlign: 'center',\r\n      height: 300,\r\n      paddingTop: 'calc(300px - 185px)',\r\n      boxSizing: 'border-box',\r\n      fontWeight: 'bold',\r\n    }}>\r\n      {\r\n        this.state.registeringLoader ?\r\n          <div><Icon type='loading' /> &nbsp;&nbsp;Loading...</div>\r\n          :\r\n          <>\r\n            <div>Check your email ({this.state.email.value}) for verification code.</div>\r\n            <div style={{ maxWidth: 350, margin: '20px auto', display: 'flex' }}>\r\n              <Input disabled={this.state.verifyingCode} onPressEnter={this.verifyUserCode} value={this.state.codeValue} onChange={e => this.setState({ codeValue: e.target.value })} placeholder=\"Enter Verification Code\" type='text' />\r\n              <Button\r\n                onClick={this.verifyUserCode}\r\n                disabled={this.state.verificationStatus === 'verified' || this.state.verifyingCode}\r\n                type=\"primary\"\r\n                shape=\"circle\"\r\n                icon={\r\n                  !this.state.verificationStatus ?\r\n                    this.state.verifyingCode ? \"loading\" : \"arrow-right\"\r\n                    : this.state.verificationStatus === 'verified' ?\r\n                      \"check\"\r\n                      : \"arrow-right\"\r\n                }\r\n                style={{\r\n                  width: 35,\r\n                  marginLeft: 10,\r\n                  background: this.state.verificationStatus === 'verified' ? 'greed' : undefined,\r\n                }}\r\n              />\r\n            </div>\r\n          </>\r\n      }\r\n    </div>\r\n  )\r\n  next() {\r\n    const current = this.state.current + 1;\r\n    this.setState({ current });\r\n    if (current === 2) {\r\n      this.setState({ registeringLoader: true });\r\n      this.props.registerUser({\r\n        username: this.state.fullName.value,\r\n        password: this.state.password.value,\r\n        email: this.state.email.value,\r\n        enrollmentNo: this.state.enrollmentNo.value,\r\n        DOB: this.state.DOB.value,\r\n        gender: this.state.gender.value,\r\n        nicNo: this.state.nicNo.value,\r\n        role: \"alumni\",\r\n      }).then(({ data }) => {\r\n        let { mongoDB, TokenContainer: tokenContainer } = data.data;\r\n        let { IdToken, AccessToken, RefreshToken } = tokenContainer;\r\n        this.setState({\r\n          registeredUser: mongoDB\r\n        })\r\n        localStorage.setItem('token', IdToken);\r\n        localStorage.setItem('refreshToken', RefreshToken);\r\n        localStorage.setItem('accessToken', AccessToken);\r\n        this.setState({ registeringLoader: false });\r\n      }, ({ response }) => {\r\n        this.setState({ registeringLoader: false });\r\n        message.error(response.data.message)\r\n        this.prev();\r\n      })\r\n    }\r\n  }\r\n\r\n  prev() {\r\n    const current = this.state.current - 1;\r\n    this.setState({ current });\r\n  }\r\n\r\n  renderSteps = () => {\r\n    const { current } = this.state;\r\n    return (\r\n      <div className='stepsRegister'>\r\n        <Steps current={current}>\r\n          {this.steps.map(item => <Step key={item.title} title={item.title} />)}\r\n        </Steps>\r\n        <div className=\"steps-content\">{this.steps[current].content}</div>\r\n        <div className=\"steps-action\">\r\n          <div>\r\n            {\r\n              current < this.steps.length - 1\r\n              && <Button\r\n                type=\"primary\"\r\n                onClick={() => {\r\n                  if (this.validationStatus()) {\r\n                    this.next();\r\n                  } else {\r\n                    message.warn(\"Please resolve all errors!\");\r\n                  }\r\n                }}\r\n              >Next</Button>\r\n            }\r\n            {\r\n              current === 1\r\n              && (\r\n                <Button style={{ marginLeft: 8 }} onClick={() => this.prev()}>\r\n                  Previous\r\n              </Button>\r\n              )\r\n            }\r\n          </div>\r\n          <span style={{ textAlign: 'center', display: 'block' }}>\r\n            Already have an account?\r\n            <span\r\n              className='highlightedLink'\r\n              onClick={() => this.props.push('/')}\r\n            > Login here!</span>\r\n          </span>\r\n        </div>\r\n      </div >\r\n    )\r\n  }\r\n\r\n  render() {\r\n    this.steps = [{\r\n      title: 'Account',\r\n      content: this.accountsForm(),\r\n    }, {\r\n      title: 'Personal Details',\r\n      content: this.personalDetailsForm(),\r\n    }, {\r\n      title: 'Confirmation',\r\n      content: this.lastConfirmationStep(),\r\n    }]\r\n\r\n    return (\r\n      <div className='register'>\r\n        <div className=\"main\">\r\n          <img className='medium' style={{ display: 'block', margin: 'auto' }} src={logoWideBlue} width={300} alt=\"logo\" />\r\n          <h2 className='h-font'>Register your new account</h2>\r\n          {this.renderSteps()}\r\n        </div>\r\n        <div className=\"sideBar large\">\r\n          <img src={logoImg} width={150} alt=\"logo\" />\r\n          <p>\r\n            Karachi University Alumni System (KUAS) is an online application system which can act as a interactive medium between the old student and the University of Karachi. KUAS is a web based application which helps the institutions to track old students and to track them for future endeavours.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ push, setUser, registerUser, verifyUserCode }, dispatch);\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Register);","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  auth,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        if (auth) {\r\n          return (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/app\",\r\n                state: {\r\n                  from: props.location\r\n                }\r\n              }}\r\n            />\r\n          );\r\n        } else {\r\n          return <Component {...props} />;\r\n        }\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PublicRoute;","import React from 'react'\r\nimport { Icon } from 'antd';\r\n\r\n\r\nexport const alumni = [\r\n  {\r\n    title: 'Community',\r\n    icon: <Icon type=\"appstore\" />,\r\n    link: '/app/community'\r\n  }, {\r\n    title: 'Alumni',\r\n    icon: <Icon type=\"team\" />,\r\n    link: '/app/alumni'\r\n  }, {\r\n    title: 'Profile',\r\n    icon: <Icon type=\"user\" />,\r\n    link: '/app/profile'\r\n  }\r\n];\r\n\r\nexport const admin = [\r\n  {\r\n    title: 'Dashboard',\r\n    icon: <Icon type=\"dot-chart\" />,\r\n    link: '/app'\r\n  },\r\n  ...alumni\r\n  , {\r\n    title: 'Departments',\r\n    icon: <Icon type=\"home\" />,\r\n    link: '/app/departments'\r\n  }, {\r\n    title: 'Pending Alumni',\r\n    icon: <Icon type=\"user\" />,\r\n    link: '/app/pending-alumni'\r\n  }\r\n];\r\nexport const superAdmin = [\r\n  ...admin\r\n  , {\r\n    title: 'Admins',\r\n    icon: <Icon type=\"user\" />,\r\n    link: '/app/hods'\r\n  }\r\n];\r\n","export const actions = {\r\n  SET_ALL_ALUMNI: \"SET_ALL_ALUMNI\",\r\n  SET_PENDING_ALUMNI: \"SET_PENDING_ALUMNI\",\r\n}\r\n\r\nexport const setAllAlumni = (data) => ({\r\n  type: actions.SET_ALL_ALUMNI,\r\n  data,\r\n})\r\n\r\nexport const setPendingAlumni = (data) => ({\r\n  type: actions.SET_PENDING_ALUMNI,\r\n  data,\r\n})","import { request } from '../../../shared/verb';\r\nimport { setAllAlumni, setPendingAlumni } from '../../actions/alumni';\r\n\r\nexport const getAllAlumni = () => (dispatch) => {\r\n  return request(\"alumni/all\", null, 'get').then(({ data }) => {\r\n    dispatch(setAllAlumni(data.data));\r\n  })\r\n}\r\n\r\nexport const getAllPendingAlumni = () => (dispatch) => {\r\n  return request(\"alumni/pending\", null, 'get').then(({ data }) => {\r\n    dispatch(setPendingAlumni(data.data));\r\n  })\r\n}\r\n\r\nexport const updateAlumni = (id, verificationStatus) => (dispatch) => {\r\n  return request(\"user/update?id=\" + id, {\r\n    status: verificationStatus\r\n  }, 'put');\r\n}","import React, { Component } from 'react'\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport styles from \"./Alumni.module.scss\"; //using scss modules here..\r\nimport { Table, Input, Icon, Button, Tag } from 'antd';\r\nimport { getAllAlumni } from '../../redux/services/alumni';\r\nimport { push } from 'connected-react-router';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction ucFirst(string = ' ') {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nconst columns = [\r\n  {\r\n    title: 'Name',\r\n    key: 'Name',\r\n    width: 180,\r\n    render: rowData => (\r\n      <span\r\n        style={{\r\n          marginLeft: 10\r\n        }}\r\n      >{ucFirst(rowData.username)}</span>\r\n    )\r\n  },\r\n  {\r\n    title: 'Gender',\r\n    key: 'Gender',\r\n    align: 'center',\r\n    width: 90,\r\n    filters: [\r\n      {\r\n        text: 'Male',\r\n        value: 'male',\r\n      },\r\n      {\r\n        text: 'Female',\r\n        value: 'female',\r\n      }\r\n    ],\r\n    render: rowData => (\r\n      <span >{ucFirst(rowData.gender)}</span>\r\n    ),\r\n    onFilter: (value, record) => { return record.gender === value },\r\n  },\r\n  {\r\n    title: 'Skills',\r\n    key: 'Skills',\r\n    width: 120,\r\n    align: 'center',\r\n    render: rowData => (\r\n      <span>\r\n        {\r\n          rowData.skills.length ?\r\n            rowData.skills.map((s, i) => (\r\n              <Tag key={i} style={{ marginBottom: '5px' }}>{s}</Tag>\r\n            ))\r\n            :\r\n            <Tag>None</Tag>\r\n        }\r\n      </span>\r\n    )\r\n  },\r\n  {\r\n    title: 'Job Status',\r\n    key: 'Job Status',\r\n    align: 'center',\r\n    width: 120,\r\n    dataIndex: 'employmentStatus',\r\n  },\r\n  {\r\n    title: 'Company',\r\n    key: 'Company',\r\n    align: 'center',\r\n    width: 120,\r\n    dataIndex: 'company',\r\n  },\r\n  {\r\n    title: 'Contact',\r\n    key: 'Contact',\r\n    align: 'center',\r\n    dataIndex: 'phone',\r\n    width: 120,\r\n  },\r\n  {\r\n    title: 'Email',\r\n    key: 'Email',\r\n    width: 200,\r\n    render: rowData => (\r\n      <span onClick={e => e.stopPropagation()}>\r\n        <a href={`mailto:${rowData.email}`}>{rowData.email}</a>&nbsp;&nbsp;\r\n        <Icon type=\"link\" />\r\n      </span>\r\n    )\r\n  },\r\n  {\r\n    title: 'Address',\r\n    key: 'Address',\r\n    width: 200,\r\n    dataIndex: 'address',\r\n  },\r\n];\r\n\r\nconst TableHeading = ({ text, onRefresh, onSearch }) => (\r\n  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '0 15px' }}>\r\n    <h2 style={{ margin: 0 }}>{text}</h2>\r\n    <div style={{ display: 'flex', alignItems: 'center' }}>\r\n      <Button\r\n        shape=\"circle\"\r\n        icon=\"sync\"\r\n        size='small'\r\n        onClick={onRefresh}\r\n        style={{\r\n          marginRight: 10,\r\n        }}\r\n      />\r\n      <Search\r\n        placeholder=\"Search\"\r\n        onSearch={onSearch}\r\n        style={{ width: 200 }}\r\n      />\r\n    </div>\r\n  </div>\r\n)\r\nclass Alumni extends Component {\r\n\r\n  state = {\r\n    tableHeight: 500,\r\n    loading: true,\r\n    searchKey: ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.resizeTableHandler();\r\n    if (this.props.allAlumni.length) {\r\n      this.setState({\r\n        loading: false\r\n      })\r\n      this.props.getAllAlumni();\r\n    } else {\r\n      this.props.getAllAlumni().then(() => {\r\n        this.setState({\r\n          loading: false\r\n        })\r\n      })\r\n    }\r\n    window.addEventListener('resize', this.resizeTableHandler); // Subcsription to handle table size on resize\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.resizeTableHandler);\r\n  }\r\n\r\n  resizeTableHandler = () => {\r\n    this.setState({\r\n      tableHeight: window.innerHeight - 180,\r\n    })\r\n  }\r\n\r\n  refresh = () => {\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    this.props.getAllAlumni().then(() => {\r\n      this.setState({\r\n        loading: false\r\n      })\r\n    })\r\n  }\r\n\r\n  filterIt() {\r\n    const searchKey = this.state.searchKey;\r\n    if (!searchKey.trim()) {\r\n      return [...this.props.allAlumni.filter(a => a.status === \"verified\")]\r\n    }\r\n    return this.props.allAlumni.filter(a => a.status === \"verified\").filter(obj => Object.keys(obj).some((key) =>\r\n      (\r\n        (key + \"\" !== 'key') && (key + \"\" !== 'updatedAt') && (key + \"\" !== 'createdAt') &&\r\n        (key + \"\" !== 'description') && (key + \"\" !== '_id')) ? ((obj[key] + \"\").toLowerCase()).includes(searchKey.toLowerCase()) : null\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.container}>\r\n        <Table\r\n          loading={this.state.loading}\r\n          title={() => (<TableHeading\r\n            onSearch={value => this.setState({ searchKey: value })}\r\n            onRefresh={this.refresh}\r\n            text=\"Alumni\" />)}\r\n          columns={columns}\r\n          onRow={(record) => ({\r\n            onClick: () => this.props.push('/app/profile/' + record._id), // click row\r\n          })}\r\n          rowKey={row => row._id}\r\n          dataSource={this.filterIt()}\r\n          size=\"middle\"\r\n          bordered\r\n          pagination={{\r\n            hideOnSinglePage: true,\r\n          }}\r\n          scroll={{ y: this.state.tableHeight - 90, x: 1150 }}\r\n          bodyStyle={{\r\n            height: this.state.tableHeight - 30,\r\n          }}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n//Code below is used to connect this component with the redux store.. you can ignore it.. for now! ;)\r\n\r\n//this function is use.. to get data from REDUX store..\r\nconst mapStateToProps = state => ({\r\n  allAlumni: state.alumni.allAlumni,\r\n})\r\n\r\n//this function is used to provide functions to update data in REDUX store..\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({\r\n    getAllAlumni,\r\n    push\r\n  }, dispatch)\r\n}\r\n\r\n//Both functions above are connected to the component using \"connect\" function from \"react-redux\" package.\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Alumni);","export const actions = {\r\n    SET_ALL_HOD: \"SET_ALL_HOD\",\r\n  }\r\n  \r\n  export const setAllHOD = (data) => ({\r\n    type: actions.SET_ALL_HOD,\r\n    data,\r\n  })","import { request } from '../../../shared/verb';\r\nimport { setAllHOD } from '../../actions/hod';\r\n\r\nexport const getAllHOD = () => (dispatch) => {\r\n  return request(\"hod/all\", null, 'get').then(({ data }) => {\r\n    dispatch(setAllHOD(data.data));\r\n  })\r\n}\r\n\r\nexport const createHOD = (data, prevSource) => (dispatch) => {\r\n  return request(\"admin/create\", data, 'post').then(({ data }) => {\r\n    const newSource = [...prevSource]\r\n    newSource.push(data.data.mongoDB)\r\n    dispatch(setAllHOD(newSource));\r\n  })\r\n}","import React, { Component } from 'react'\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport styles from \"./HeadOfDepartments.module.scss\"; //using scss modules here..\r\nimport { Table, Spin, Button, Input, Modal, Form, Select, DatePicker } from 'antd';\r\nimport { getAllHOD, createHOD } from '../../redux/services/HOD';\r\nimport moment from 'moment'\r\nimport { push } from 'connected-react-router'\r\n\r\n\r\nconst { Search } = Input;\r\nconst { Option } = Select\r\nconst FormItem = Form.Item;\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    span: 6\r\n  },\r\n  wrapperCol: {\r\n    span: 14\r\n  }\r\n};\r\n\r\nconst columns = [\r\n  {\r\n    title: 'Name',\r\n    dataIndex: 'username',\r\n    width: 350,\r\n  },\r\n  {\r\n    title: 'Email',\r\n    dataIndex: 'email',\r\n    width: 350,\r\n  },\r\n  {\r\n    title: 'Nic',\r\n    dataIndex: 'nicNo',\r\n    width: 250,\r\n  },\r\n  {\r\n    title: 'Contact',\r\n    dataIndex: 'phone',\r\n    width: 200,\r\n  },\r\n\r\n  {\r\n    title: 'Gender',\r\n    dataIndex: 'gender',\r\n\r\n  },\r\n];\r\n\r\nconst TableHeading = ({ text, modalAction }) => (\r\n  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '0 15px' }}>\r\n    <h2 style={{ margin: 0, }}>{text}</h2>\r\n\r\n    <div>\r\n      <Button icon='plus' style={{ marginRight: 10 }} type='primary' onClick={() => modalAction('open')}>Add Admin</Button>\r\n      <Search\r\n        placeholder=\"Search\"\r\n        onSearch={value => console.log(value)}\r\n        style={{ width: 200 }}\r\n      />\r\n    </div>\r\n\r\n  </div>\r\n)\r\n\r\nclass HOD extends Component {\r\n  static FormInput = ({ label, initialValue, name, message, required, isDisabled, getFieldDecorator, rules, maxLength, minLength }) => {\r\n    return (\r\n      <FormItem label={label}  {...formItemLayout}>\r\n        {getFieldDecorator(name, {\r\n          initialValue,\r\n          rules: [\r\n            {\r\n              ...rules,\r\n              len: maxLength ? maxLength : null,\r\n              min: minLength ? minLength : null,\r\n              required,\r\n              message,\r\n            }\r\n          ]\r\n        })(<Input disabled={isDisabled} />)}\r\n      </FormItem>\r\n    )\r\n  }\r\n  static FormDropDown = ({ label, initialValue, name, message, required, isDisabled, getFieldDecorator, renderOptions, onChange }) => {\r\n    return (\r\n      <FormItem label={label}  {...formItemLayout}>\r\n        {getFieldDecorator(name, {\r\n          initialValue,\r\n          rules: [\r\n            {\r\n              required,\r\n              message\r\n            }\r\n          ]\r\n        })(<Select onChange={onChange ? (id) => onChange(id) : null} getPopupContainer={trigger => trigger.parentNode} disabled={isDisabled} >{renderOptions()}</Select>)}\r\n      </FormItem>\r\n    )\r\n  }\r\n\r\n  static DatePicker = ({ label, initialValue, name, message, required, isDisabled, getFieldDecorator, renderOptions, onChange }) => {\r\n    return (\r\n      <FormItem label={label}  {...formItemLayout}>\r\n        {getFieldDecorator(name, {\r\n          initialValue,\r\n          rules: [\r\n            {\r\n              required,\r\n              message\r\n            }\r\n          ]\r\n        })(<DatePicker\r\n          format='DD/MM/YYYY'\r\n        />)}\r\n      </FormItem>\r\n    )\r\n  }\r\n\r\n\r\n  state = {\r\n    tableHeight: 500,\r\n    loading: true,\r\n    spiner: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.user.role === 'alumni') {\r\n      this.props.push('/app/community');\r\n    } else if (this.props.user.role === 'admin' || this.props.user.role === 'HOD') {\r\n      this.props.push('/app');\r\n    } else {\r\n      this.resizeTableHandler();\r\n      this.getData()\r\n      window.addEventListener('resize', this.resizeTableHandler); // Subcsription to handle table size on resize\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.resizeTableHandler);\r\n  }\r\n\r\n  getData = async () => {\r\n    this.setState({ loading: true })\r\n    await this.props.getAllHOD()\r\n    this.setState({ loading: false })\r\n  }\r\n\r\n  resizeTableHandler = () => {\r\n    this.setState({\r\n      tableHeight: window.innerHeight - 180,\r\n    })\r\n  }\r\n  modalAction = (action) => {\r\n    if (action === 'close') {\r\n      this.setState({ modalOpen: false })\r\n    } else {\r\n      this.setState({ modalOpen: true })\r\n    }\r\n  }\r\n\r\n  renderGender = () => {\r\n    const renderOptions = [<Option value={'male'} key={Date.now()}>Male</Option>, <Option value={'female'} key={Date.now()}>Female</Option>, <Option value={'other'} key={Date.now()}>Other</Option>,]\r\n    return renderOptions\r\n  }\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        const data = { ...values }\r\n        data.DOB = moment(data.DOB).format('YYYY-MM-DD')\r\n        data.role = 'admin'\r\n        this.setState({ spiner: true })\r\n        this.props.createHOD(data, this.props.allHOD).then(() => this.setState({ spiner: false }, () => this.modalAction('close')))\r\n\r\n      }\r\n    });\r\n  };\r\n\r\n\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    return (\r\n      <Spin spinning={this.state.loading}>\r\n        <div className={styles.container}>\r\n          <Modal title='Add Admin' visible={this.state.modalOpen} onOk={this.handleSubmit} onCancel={() => this.modalAction('close')}>\r\n            <Spin spinning={this.state.spiner}>\r\n              <Form horizontal>\r\n                <HOD.FormInput\r\n                  label={'Name: '} name=\"username\" initialValue={''}\r\n                  getFieldDecorator={getFieldDecorator} message=\"Required\" required={true}\r\n                  isDisabled={false}\r\n                />\r\n                <HOD.FormInput\r\n                  label={'Email: '} name=\"email\" initialValue={''} rules={{\r\n                    type: 'email',\r\n                    message: 'The input is not valid E-mail!',\r\n                  }}\r\n                  getFieldDecorator={getFieldDecorator} message=\"Enter valid email address\" required={true}\r\n                  isDisabled={false}\r\n                />\r\n                <HOD.FormInput\r\n                  label={'nicNo: '} name=\"nicNo\" initialValue={''}\r\n                  getFieldDecorator={getFieldDecorator} message=\"Enter 13 digit nic no.\" required={true}\r\n                  isDisabled={false} maxLength={13} type={'number'}\r\n                />\r\n                <HOD.FormInput\r\n                  label={'Temp Pwd: '} name=\"password\" initialValue={''}\r\n                  getFieldDecorator={getFieldDecorator} message=\"Enter 8 characters password.\" required={true}\r\n                  isDisabled={false} minLength={8} type={'number'}\r\n                />\r\n                <HOD.FormDropDown\r\n                  label={'Gender: '} name=\"gender\" initialValue={''}\r\n                  getFieldDecorator={getFieldDecorator} message=\"Required\" required={true}\r\n                  isDisabled={false} renderOptions={this.renderGender}\r\n                />\r\n                <HOD.DatePicker\r\n                  label={'DOB: '} name=\"DOB\" initialValue={''}\r\n                  getFieldDecorator={getFieldDecorator} message=\"Required\" required={true}\r\n                  isDisabled={false} />\r\n\r\n              </Form>\r\n            </Spin>\r\n\r\n          </Modal>\r\n          <Table\r\n            title={() => <TableHeading text=\"Admins\" modalAction={this.modalAction} />}\r\n            columns={columns}\r\n            dataSource={this.props.allHOD}\r\n            size=\"middle\"\r\n            pagination={false}\r\n            scroll={{ y: this.state.tableHeight - 90 }}\r\n            style={{\r\n              height: this.state.tableHeight,\r\n            }}\r\n            bordered\r\n          />\r\n        </div>\r\n      </Spin>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n//Code below is used to connect this component with the redux store.. you can ignore it.. for now! ;)\r\n\r\n//this function is use.. to get data from REDUX store..\r\nconst mapStateToProps = state => ({\r\n  user: state.auth.user,\r\n  allHOD: state.hod.allHOD,\r\n})\r\n\r\n//this function is used to provide functions to update data in REDUX store..\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({\r\n    getAllHOD,\r\n    createHOD,\r\n    push\r\n  }, dispatch)\r\n}\r\n\r\n//Both functions above are connected to the component using \"connect\" function from \"react-redux\" package.\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create()(HOD));","export const actions = {\r\n  SET_ALL_DEPARTMENTS: \"SET_ALL_DEPARTMENTS\",\r\n}\r\n\r\nexport const setAllDepartments = (data) => ({\r\n  type: actions.SET_ALL_DEPARTMENTS,\r\n  data,\r\n})","import { request } from '../../../shared/verb';\r\nimport { setAllDepartments } from '../../actions/departments';\r\n\r\nexport const getAllDepartments = () => (dispatch) => {\r\n  return request(\"department/all\", null, 'get').then(({ data }) => {\r\n    dispatch(setAllDepartments(data.data));\r\n  })\r\n}\r\n\r\nexport const addDepartment = (data, prevSource) => (dispatch) => {\r\n  return request(\"department/create\", data, 'post').then(({ data }) => {\r\n    const newSource = [...prevSource]\r\n    newSource.push(data.data)\r\n    dispatch(setAllDepartments(newSource));\r\n  })\r\n}\r\n\r\nexport const deleteDepartment = (id) => (dispatch) => {\r\n  return request(\"department/delete?id=\" + id, null, 'delete');\r\n}","import React, { Component } from 'react'\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport styles from \"./Departments.module.scss\"; //using scss modules here..\r\nimport { Input, Spin, Button, Modal, Form, Select, Icon, Menu, Dropdown } from 'antd';\r\nimport { getAllDepartments, addDepartment, deleteDepartment } from '../../redux/services/departments';\r\nimport { getAllHOD } from '../../redux/services/HOD'\r\nimport { push } from 'connected-react-router'\r\n\r\nconst { confirm } = Modal;\r\nconst FormItem = Form.Item;\r\nconst { Search } = Input;\r\nconst { Option } = Select\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    span: 6\r\n  },\r\n  wrapperCol: {\r\n    span: 14\r\n  }\r\n};\r\n\r\nconst TableHeading = ({ text, modalAction, onSearch }) => (\r\n  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '15px' }}>\r\n    <h2 style={{ margin: 0, }}>{text}</h2>\r\n    <div>\r\n      <Button icon='plus' style={{ marginRight: 10 }} type='primary' onClick={() => modalAction('open')}>Add Department</Button>\r\n      <Search\r\n        placeholder=\"Search\"\r\n        onSearch={onSearch}\r\n        style={{ width: 200 }}\r\n      />\r\n    </div>\r\n  </div>\r\n)\r\n\r\nclass Departments extends Component {\r\n\r\n  state = {\r\n    tableHeight: 500,\r\n    loading: true,\r\n    modalOpen: false,\r\n    inviteCheck: false,\r\n    spinner: false,\r\n    searchKey: ''\r\n  }\r\n\r\n  showDeleteConfirm = depart => {\r\n    confirm({\r\n      title: 'Are you sure you want to delete this department?',\r\n      okText: 'Yes',\r\n      okType: 'danger',\r\n      cancelText: 'No',\r\n      icon: <Icon style={{ color: '#980000', cursor: 'pointer' }} type=\"delete\" />,\r\n      onOk: () => {\r\n        this.setState({ loading: true });\r\n        this.props.deleteDepartment(depart._id).then(() => {\r\n          this.getData()\r\n        })\r\n      },\r\n      onCancel: () => {\r\n\r\n      },\r\n    });\r\n  }\r\n\r\n  editDepart = depart => {\r\n    console.log(depart)\r\n  }\r\n\r\n  menu = (depart) => (\r\n    <Menu>\r\n      <Menu.Item onClick={() => this.showDeleteConfirm(depart)} key=\"1\">\r\n        Delete\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n\r\n  static DepartmentItem = ({ d, style, menu }) => (\r\n    <div key={d._id} className={style} >\r\n      <span>{d.initials} &ndash; {d.name}</span>\r\n      <Dropdown overlay={menu(d)} trigger={['click']}>\r\n        <span className=\"ant-dropdown-link\" >\r\n          <Icon style={{ fontSize: 17, cursor: 'pointer' }} type=\"more\" />\r\n        </span>\r\n      </Dropdown>\r\n    </div>\r\n  )\r\n\r\n  static FormInput = ({ label, initialValue, name, message, required, isDisabled, getFieldDecorator }) => {\r\n    return (\r\n      <FormItem label={label}  {...formItemLayout}>\r\n        {getFieldDecorator(name, {\r\n          initialValue,\r\n          rules: [\r\n            {\r\n              required,\r\n              message\r\n            }\r\n          ]\r\n        })(<Input disabled={isDisabled} />)}\r\n      </FormItem>\r\n    )\r\n  }\r\n  static FormDropDown = ({ label, initialValue, name, message, required, isDisabled, getFieldDecorator, renderOptions, onChange }) => {\r\n    return (\r\n      <FormItem label={label}  {...formItemLayout}>\r\n        {getFieldDecorator(name, {\r\n          initialValue,\r\n          rules: [\r\n            {\r\n              required,\r\n              message\r\n            }\r\n          ]\r\n        })(<Select onChange={onChange ? (id) => onChange(id) : null} getPopupContainer={trigger => trigger.parentNode} disabled={isDisabled} >{renderOptions()}</Select>)}\r\n      </FormItem>\r\n    )\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.user.role === 'alumni') {\r\n      this.props.push('/app/community');\r\n    } else {\r\n      this.resizeTableHandler();\r\n      this.getData()\r\n      window.addEventListener('resize', this.resizeTableHandler); // Subcsription to handle table size on resize\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.resizeTableHandler);\r\n  }\r\n\r\n  resizeTableHandler = () => {\r\n    this.setState({\r\n      tableHeight: window.innerHeight - 180,\r\n    })\r\n  }\r\n\r\n  getData = () => {\r\n    this.setState({ loading: true })\r\n    this.props.getAllDepartments().then(() => {\r\n      this.setState({ loading: false })\r\n    })\r\n  }\r\n\r\n  modalAction = (action) => {\r\n    if (action === 'close') {\r\n      this.setState({ modalOpen: false })\r\n    } else {\r\n      this.setState({ modalOpen: true })\r\n    }\r\n  }\r\n\r\n  renderUsers = () => {\r\n    if (this.props.allHOD.length !== 0) {\r\n      return this.props.allHOD.map((HOD, id) => {\r\n        return <Option value={HOD._id} key={id}>{HOD.username}</Option>\r\n      })\r\n    } else {\r\n      return []\r\n    }\r\n\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        const data = { ...values }\r\n        this.setState({ spinner: true })\r\n        this.props.addDepartment(data, this.props.allDepartments).then(() => this.setState({ spinner: false }, () => this.modalAction('close')))\r\n\r\n      }\r\n    });\r\n  };\r\n\r\n  filterIt() {\r\n    const searchKey = this.state.searchKey;\r\n    if (!searchKey.trim()) {\r\n      return [...this.props.allDepartments]\r\n    }\r\n    return this.props.allDepartments.filter(obj => Object.keys(obj).some((key) =>\r\n      (\r\n        (key + \"\" !== 'key') &&\r\n        (key + \"\" !== 'updatedAt') &&\r\n        (key + \"\" !== 'createdAt') &&\r\n        (key + \"\" !== '_id')) ?\r\n        ((obj[key] + \"\").toLowerCase()).includes(searchKey.toLowerCase()) : null\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    let filteredData = this.filterIt();\r\n    const { getFieldDecorator } = this.props.form;\r\n    return (\r\n      <Spin spinning={this.state.loading}>\r\n        <div className={styles.container}>\r\n          <TableHeading text=\"Departments\" modalAction={this.modalAction} onSearch={val => this.setState({ searchKey: val })} />\r\n          {\r\n            this.state.searchKey ?\r\n              <div style={{\r\n                margin: '15px 25px 5px 30px',\r\n                fontSize: 16\r\n              }}>\r\n                Showing result for \"{this.state.searchKey}\"\r\n              </div>\r\n              : null\r\n          }\r\n          <div style={{\r\n            padding: '10px 15px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            maxHeight: \"calc(100% - 65px)\",\r\n            overflow: \"auto\"\r\n          }}>\r\n            {filteredData.length ?\r\n              filteredData.map(d => (\r\n                <Departments.DepartmentItem menu={this.menu} key={d._id} d={d} style={styles.departmentItem} />\r\n              ))\r\n              : <div style={{ textAlign: 'center', color: '#999', marginTop: 80, flex: 1 }}>No Data</div>\r\n            }\r\n          </div>\r\n        </div>\r\n        <Modal title='Add Department' visible={this.state.modalOpen} destroyOnClose onOk={this.handleSubmit} onCancel={() => this.modalAction('close')}>\r\n          <Spin spinning={this.state.spinner}>\r\n            <Form>\r\n              <Departments.FormInput\r\n                label={'Name: '} name=\"name\" initialValue={''}\r\n                getFieldDecorator={getFieldDecorator} message=\"Required\" required={true}\r\n                isDisabled={false}\r\n              />\r\n              <Departments.FormInput\r\n                label={'Initials: '} name=\"initials\" initialValue={''}\r\n                getFieldDecorator={getFieldDecorator} message=\"Required\" required={true}\r\n                isDisabled={false}\r\n              />\r\n            </Form>\r\n          </Spin>\r\n        </Modal>\r\n      </Spin>\r\n\r\n    )\r\n  }\r\n}\r\n\r\n\r\n//Code below is used to connect this component with the redux store.. you can ignore it.. for now! ;)\r\n\r\n//this function is use.. to get data from REDUX store..\r\nconst mapStateToProps = state => ({\r\n  allDepartments: state.departments.allDepartments,\r\n  user: state.auth.user,\r\n  allHOD: state.hod.allHOD,\r\n})\r\n\r\n//this function is used to provide functions to update data in REDUX store..\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({\r\n    getAllDepartments,\r\n    getAllHOD,\r\n    push,\r\n    deleteDepartment,\r\n    addDepartment\r\n  }, dispatch)\r\n}\r\n\r\n//Both functions above are connected to the component using \"connect\" function from \"react-redux\" package.\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create()(Departments));","export const actions = {\r\n  SET_CURRENT_USER: 'SET_CURRENT_USER',\r\n}\r\n\r\nexport const setCurrentUser = (data) => ({\r\n  type: actions.SET_CURRENT_USER,\r\n  data,\r\n})","import { request } from '../../../shared/verb';\r\nimport { setCurrentUser } from '../../actions/user';\r\n\r\n\r\nexport const getCurrentUser = (id) => (dispatch) => {\r\n  return request(\"user/get?id=\" + id, null, 'get').then(({ data }) => {\r\n    dispatch(setCurrentUser(data.data.mongoDB));\r\n  })\r\n}\r\nexport const updateUser = (body) => (dispatch) => {\r\n  return request(\"user/me\", body, 'put').then(({ data }) => {\r\n    dispatch(setCurrentUser(data.data.mongoDB));\r\n  })\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport styles from './UserProfile.module.scss'\r\nimport { Avatar, Button, Icon, Tag, Spin, Modal, Form, Input, Select } from 'antd';\r\nimport { push } from 'connected-react-router';\r\nimport { getCurrentUser, updateUser } from '../../redux/services/user'\r\nimport { getAllDepartments } from '../../redux/services/departments'\r\nimport moment from 'moment';\r\nimport ReactToPrint from 'react-to-print';\r\n\r\nfunction InfoItem({ title, value }) {\r\n  return (\r\n    <div>\r\n      <span className='title' style={{ flex: 1, color: '#001529', }}>{title}:</span>\r\n      <span className='value' >{value || <>&ndash;</>}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nclass UserProfile extends Component {\r\n\r\n  state = {\r\n    loading: true,\r\n    currId: null,\r\n    editModal: false,\r\n    editing: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    let id = this.props.location.pathname.split('/')[3];\r\n    this.setState({\r\n      currId: id,\r\n    })\r\n    this.props.getCurrentUser(id || this.props.user._id).then(() => {\r\n      this.setState({\r\n        loading: false\r\n      })\r\n    }, () => {\r\n      this.props.push('/app/profile')\r\n    })\r\n\r\n    if (!this.props.departs.length) this.props.getAllDepartments();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    let id = this.props.location.pathname.split('/')[3];\r\n    if (this.state.currId !== id) {\r\n      this.setState({\r\n        loading: true,\r\n        currId: id,\r\n      })\r\n      this.props.getCurrentUser(id || this.props.user._id).then(() => {\r\n        this.setState({\r\n          loading: false\r\n        })\r\n      }, () => {\r\n        this.props.push('/app/profile')\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    this.setState({ editing: true })\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        this.props.updateUser(values).then(() => {\r\n          this.setState({ editing: false, editModal: false })\r\n        })\r\n      } else {\r\n        this.setState({ editing: false })\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div style={{\r\n          width: '100%',\r\n          height: '100%',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          justifyContent: 'center'\r\n        }}>\r\n          <Spin />\r\n        </div>\r\n      )\r\n    }\r\n\r\n    const { getFieldDecorator } = this.props.form;\r\n\r\n    let data = {};\r\n    if (this.props.currentUser) {\r\n      data = { ...this.props.currentUser }\r\n    }\r\n    const {\r\n      username,\r\n      email,\r\n      phone,\r\n      enrollmentNo,\r\n      nicNo,\r\n      bio,\r\n      skills,\r\n      DOB,\r\n      address,\r\n      gender,\r\n      role,\r\n      status,\r\n      createdAt,\r\n      department,\r\n      degree,\r\n      company,\r\n      workingExperience,\r\n      jobTitle,\r\n      employmentStatus\r\n    } = data;\r\n    return (\r\n      <div ref={el => (this.componentRef = el)} className={styles.alumniProfile}>\r\n        <div className={styles.top}>\r\n          <div className={styles.profileBanner}>\r\n            <div className={styles.profileImg}>\r\n              <Avatar src='https://picsum.photos/100' size={100} icon=\"user\" shape='square' />\r\n            </div>\r\n            <div className={styles.profileTopData}>\r\n              <h2 style={{ color: '#001529', textTransform: 'capitalize' }}>\r\n                {username} ({role})\r\n                {\r\n                  role === 'alumni' ?\r\n                    <Tag className=\"no-print\" style={{ marginLeft: 10 }}>\r\n                      {status}\r\n                    </Tag>\r\n                    : null\r\n                }\r\n              </h2>\r\n              <span>{email}</span>\r\n              <p>\r\n                {bio}\r\n              </p>\r\n              <div>\r\n                {\r\n                  skills ? skills.map((s, i) => (\r\n                    <Tag key={i}>{s}</Tag>\r\n                  )) : null\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <ReactToPrint\r\n            trigger={() => (\r\n              <Button className={styles.backBtn + ' no-print'} type=\"secondary\" >\r\n                <Icon type=\"download\" />\r\n                Print Resume\r\n                </Button>\r\n            )}\r\n            content={() => this.componentRef}\r\n          />\r\n\r\n        </div>\r\n        <div className={styles.personalDetails}>\r\n          <div style={{\r\n            background: '#00000024',\r\n            fontWeight: 'bolder',\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            padding: '6px 12px',\r\n          }}>\r\n            <h2>Personal Details</h2>\r\n            {\r\n              this.props.user._id === this.props.currentUser._id ?\r\n                <Button type=\"ghost\" icon=\"edit\" className=\"no-print\" onClick={() => { this.setState({ editModal: true }) }} />\r\n                : null\r\n            }\r\n          </div>\r\n          <div className={styles.info}>\r\n            {this.props.user._id === this.props.currentUser._id || this.props.user.role !== 'alumni' ?\r\n              <div className={styles.infoItems}>\r\n                <h3>Basic Info</h3>\r\n                <InfoItem title='Birth Date' value={moment(DOB).format('MMM DD, YYYY')} />\r\n                <InfoItem title='Gender' value={gender} />\r\n                <InfoItem title='Contact' value={phone} />\r\n                <InfoItem title='NIC no' value={nicNo} />\r\n                <InfoItem title='Address' value={address} />\r\n                <InfoItem title='Registered At' value={moment(createdAt).format('MMM DD, YYYY h:mm a')} />\r\n              </div>\r\n              : null\r\n            }\r\n            <div className={styles.infoItems}>\r\n              <h3>Work Experience</h3>\r\n              <InfoItem title='Job Position' value={jobTitle} />\r\n              <InfoItem title='Company' value={company} />\r\n              <InfoItem title='Experience in relevant field' value={workingExperience} />\r\n            </div>\r\n            <div className={styles.infoItems}>\r\n              <h3>Education</h3>\r\n              <InfoItem title='Enrollment No' value={enrollmentNo} />\r\n              <InfoItem title='Department' value={department ? `${department.initials}-${department.name}`.toUpperCase() : undefined} />\r\n              <InfoItem title='Degree' value={degree} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Modal\r\n          title=\"Edit Profile\"\r\n          visible={this.state.editModal}\r\n          onCancel={() => {\r\n            this.setState({ editModal: false })\r\n          }}\r\n          okText=\"Save\"\r\n          onOk={this.handleSubmit}\r\n          okButtonProps={{\r\n            loading: this.state.editing,\r\n          }}\r\n          destroyOnClose\r\n          centered\r\n        >\r\n          <Form labelCol={{ span: 7 }} wrapperCol={{ span: 12 }} onSubmit={this.handleSubmit}>\r\n            <Form.Item label=\"Bio\">\r\n              {getFieldDecorator('bio', {\r\n                initialValue: bio\r\n              })(<Input.TextArea type='text' />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"Contact\">\r\n              {getFieldDecorator('phone', {\r\n                initialValue: phone\r\n              })(<Input type='number' />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"Address\">\r\n              {getFieldDecorator('address', {\r\n                initialValue: address\r\n              })(<Input type='text' />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"Gender\">\r\n              {getFieldDecorator('gender', {\r\n                initialValue: gender\r\n              })(<Select>\r\n                <Select.Option value='male'>Male</Select.Option>\r\n                <Select.Option value='female'>Female</Select.Option>\r\n                <Select.Option value='other'>Other</Select.Option>\r\n              </Select>)}\r\n            </Form.Item>\r\n            <Form.Item label=\"Employment Status\">\r\n              {getFieldDecorator('employmentStatus', {\r\n                initialValue: employmentStatus\r\n              })(<Select>\r\n                <Select.Option value='Employed'>Employed</Select.Option>\r\n                <Select.Option value='Part-Time'>Part-Time</Select.Option>\r\n                <Select.Option value='Self-Employed'>Self-Employed</Select.Option>\r\n                <Select.Option value='Unemployed'>Unemployed</Select.Option>\r\n              </Select>)}\r\n            </Form.Item>\r\n            <Form.Item label=\"Skills\">\r\n              {getFieldDecorator('skills', {\r\n                initialValue: skills\r\n              })(<Select dropdownStyle={{ display: 'none' }} mode='tags' maxTagCount={5}></Select>)}\r\n            </Form.Item>\r\n            <Form.Item label=\"Experience\">\r\n              {getFieldDecorator('workingExperience', {\r\n                initialValue: workingExperience\r\n              })(<Input type='text' />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"Company\">\r\n              {getFieldDecorator('company', {\r\n                initialValue: company\r\n              })(<Input type='text' />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"Job Position\">\r\n              {getFieldDecorator('jobTitle', {\r\n                initialValue: jobTitle\r\n              })(<Input type='text' />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"Degree\">\r\n              {getFieldDecorator('degree', {\r\n                initialValue: degree\r\n              })(<Input type='text' />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"Department\">\r\n              {getFieldDecorator('department', {\r\n                initialValue: department ? department._id : null\r\n              })(<Select>\r\n                {\r\n                  this.props.departs.map(d => (\r\n                    <Select.Option\r\n                      key={d._id}\r\n                      value={d._id}\r\n                    >\r\n                      {`${d.initials}-${d.name}`}\r\n                    </Select.Option>\r\n                  ))\r\n                }\r\n              </Select>)}\r\n            </Form.Item>\r\n          </Form>\r\n        </Modal>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  currentUser: state.user.currentUser,\r\n  user: state.auth.user,\r\n  location: state.router.location,\r\n  departs: state.departments.allDepartments,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({\r\n    push, updateUser,\r\n    getCurrentUser,\r\n    getAllDepartments\r\n  }, dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create({ name: 'editProfile' })(UserProfile));","import React, { useState } from 'react'\r\nimport { Input, Button, Icon, message, Checkbox } from 'antd';\r\nconst { TextArea } = Input;\r\n\r\nexport default React.memo(function PostValue({ verifiedUser, addHandler, loading, refresh, role }) {\r\n  const topBarStyle = {\r\n    padding: '5px 10px',\r\n    background: '#f5f6f7',\r\n    border: '1px solid #d9d9d9',\r\n    borderBottom: '1px solid #dddfe2',\r\n    borderRadius: '3px 3px 0 0',\r\n    fontWeight: 'bold',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n  }\r\n\r\n  const [value, setValue] = useState('')\r\n  const [broadcast, setBroadcast] = useState(false)\r\n  const [loader, setLoader] = useState(false)\r\n  const [dropOpen, setDropOpen] = useState(false)\r\n\r\n  const onPostClick = () => {\r\n    if (value.trim()) {\r\n      setLoader(true);\r\n      if (!verifiedUser) {\r\n        message.error(\"Please verify you email address before creating community post.\");\r\n        setLoader(false);\r\n        return;\r\n      }\r\n      addHandler(value, broadcast).then(() => {\r\n        setLoader(false);\r\n        setValue('');\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        marginBottom: 25,\r\n        marginLeft: 160,\r\n      }}\r\n    >\r\n      <div\r\n        style={topBarStyle}\r\n      >\r\n        <span>Create Post</span>\r\n        <Icon onClick={() => loading || refresh()} type={loading ? \"loading\" : \"reload\"} />\r\n      </div>\r\n      <TextArea\r\n        onFocus={() => setDropOpen(true)}\r\n        onBlur={() => setDropOpen(false)}\r\n        value={value}\r\n        style={{\r\n          resize: 'none',\r\n          borderRadius: '0',\r\n          boxShadow: 'none !important',\r\n        }}\r\n        onChange={(e) => setValue(e.target.value)}\r\n        placeholder=\"What's on your mind?\"\r\n        rows={3}\r\n        disabled={loader}\r\n      />\r\n      <div\r\n        style={{\r\n          ...topBarStyle,\r\n          background: '#f5f6f7',\r\n          border: '1px solid #d9d9d9',\r\n          borderTop: '1px solid #dddfe2',\r\n          borderRadius: '0 0 3px 3px',\r\n          height: dropOpen || value ? 'auto' : 0,\r\n          padding: dropOpen || value ? '5px 10px' : 0,\r\n        }}\r\n      >\r\n        {role === \"super-admin\" || role === \"Admin\" ?\r\n          <Checkbox\r\n            onChange={e => setBroadcast(e.target.checked)}\r\n            checked={broadcast}\r\n            style={{\r\n              display: dropOpen || value ? 'block' : 'none',\r\n            }}\r\n          >Broadcast</Checkbox>\r\n          : null\r\n        }\r\n        <Button\r\n          type=\"primary\"\r\n          disabled={loader || loading}\r\n          style={{\r\n            marginLeft: 'auto',\r\n            display: dropOpen || value ? 'block' : 'none',\r\n            fontSize: 12,\r\n            height: 'auto',\r\n            padding: '4px 10px',\r\n            fontWeight: 500,\r\n          }}\r\n          onClick={onPostClick}\r\n        >\r\n          Post\r\n          {loader ?\r\n            <Icon type=\"loading\" />\r\n            :\r\n            <Icon type=\"right\" />\r\n          }\r\n        </Button>\r\n      </div>\r\n    </div >\r\n  )\r\n});\r\n","import React from 'react'\r\nimport { Avatar, Icon, Tooltip, Menu, Dropdown, Modal } from 'antd';\r\nimport Moment from 'react-moment';\r\nimport styles from './Post.module.scss';\r\nimport moment from 'moment';\r\nconst { confirm } = Modal;\r\n\r\nconst Post = ({ editPost, deletePost, routeTo, userId, currUser, user, timestamp, statusText, likeCount, commentsCount, onLikeClick, onDislikeClick, onCommentClick, liked, broadcast }) => {\r\n  let timeoutFlag = null;\r\n\r\n  const likeHandler = () => {\r\n    clearTimeout(timeoutFlag);\r\n    timeoutFlag = setTimeout(() => {\r\n      if (liked) {\r\n        onDislikeClick();\r\n      } else {\r\n        onLikeClick();\r\n      }\r\n    }, 500);\r\n  }\r\n\r\n  const showDeleteConfirm = () => {\r\n    confirm({\r\n      title: 'Are you sure you want to delete this post?',\r\n      okText: 'Yes',\r\n      okType: 'danger',\r\n      cancelText: 'No',\r\n      icon: <Icon style={{ color: '#980000', cursor: 'pointer' }} type=\"delete\" />,\r\n      onOk: () => {\r\n        deletePost()\r\n      },\r\n      onCancel: () => {\r\n\r\n      },\r\n    });\r\n  }\r\n\r\n  let menu = (\r\n    <Menu>\r\n      <Menu.Item onClick={showDeleteConfirm} key=\"1\">\r\n        Delete\r\n  </Menu.Item>\r\n    </Menu>\r\n  );\r\n  if (currUser.role === 'super-admin') {\r\n    menu = (\r\n      <Menu>\r\n        <Menu.Item onClick={showDeleteConfirm} key=\"1\">\r\n          Delete\r\n        </Menu.Item>\r\n      </Menu>\r\n    );\r\n  }\r\n  if (userId === currUser._id) {\r\n    menu = (\r\n      <Menu>\r\n        <Menu.Item onClick={editPost} key=\"0\">\r\n          Edit\r\n        </Menu.Item>\r\n        <Menu.Item onClick={showDeleteConfirm} key=\"1\">\r\n          Delete\r\n        </Menu.Item>\r\n      </Menu>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.post}>\r\n      <div className={styles.mainInfo}>\r\n        <div>\r\n          <Avatar src='https://picsum.photos/50' size={30} icon=\"user\" shape=' circle' />\r\n          <div style={{ display: 'flex', flexDirection: 'column', marginLeft: 10 }}>\r\n            <h2 style={{ textTransform: 'capitalize', cursor: 'pointer' }} onClick={() => routeTo('/app/profile/' + user._id)}>{user.username}</h2>\r\n            <span className={styles.timeStamp}>\r\n              <Tooltip placement='right' mouseEnterDelay={1.2} title={<span style={{ fontSize: 10 }}>{moment(timestamp).format('MMM DD, YYYY h:mm a')}</span>}>\r\n                <Moment fromNow date={timestamp} />\r\n              </Tooltip>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          {broadcast ?\r\n            <Icon type=\"notification\" style={{\r\n              color: '#f17c15',\r\n              marginBottom: 3,\r\n              fontSize: 16\r\n            }} theme=\"filled\" />\r\n            : null\r\n          }\r\n          <span className={styles.menuIcon} style={{\r\n            display: userId === currUser._id || currUser.role === 'super-admin' ? 'block' : 'none'\r\n          }}>\r\n            <Dropdown overlay={menu} trigger={['click']}>\r\n              <span className=\"ant-dropdown-link\" >\r\n                <Icon style={{ fontSize: 18 }} type=\"more\" />\r\n              </span>\r\n            </Dropdown>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className={styles.postData}>\r\n        {statusText}\r\n      </div>\r\n      <div className={styles.reactionContainer}>\r\n        <div>\r\n          <span style={{ color: liked ? '#e0245e' : null }}>{likeCount ? likeCount : null}</span>\r\n          <Tooltip title={() => <span style={{ fontSize: 11 }}>like</span>} placement='right' mouseEnterDelay={1}>\r\n            <Icon onClick={likeHandler} type=\"heart\" theme={liked ? \"filled\" : \"outlined\"} style={{ fontSize: '15px', color: liked ? '#e0245e' : null, marginLeft: 5, cursor: 'pointer' }} />\r\n          </Tooltip>\r\n        </div>\r\n        <div>\r\n          <span>{commentsCount ? commentsCount : null}</span>\r\n          <Tooltip title={() => <span style={{ fontSize: 11 }}>comment</span>} placement='right' mouseEnterDelay={1}>\r\n            <Icon onClick={onCommentClick} type=\"message\" theme=\"outlined\" style={{ fontSize: '15px', marginLeft: 5, cursor: 'pointer' }} />\r\n          </Tooltip>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(Post);","import React, { PureComponent } from 'react'\r\nimport { Drawer, Input, Button, Avatar, Icon, Modal } from 'antd';\r\nimport Post from '../Post/Post';\r\nconst { confirm } = Modal;\r\n\r\nfunction Comment({ onDelete, text, user, currUser, index }) {\r\n  return (\r\n    <div\r\n      className=\"commentItem\"\r\n      style={{\r\n        margin: '10px auto',\r\n        padding: 10,\r\n        borderRadius: 4,\r\n        background: '#00000004'\r\n      }}\r\n    >\r\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>\r\n          <Avatar src='https://picsum.photos/50' size={25} icon=\"user\" shape=' circle' />\r\n          <h2 style={{ textTransform: 'capitalize', fontSize: 13, margin: 0, marginLeft: 10 }}>{user.username}</h2>\r\n        </div>\r\n        {currUser._id === user._id || currUser.role === 'super-admin' ?\r\n          <Icon onClick={() => onDelete(index)} style={{ color: '#980000', cursor: 'pointer' }} type=\"delete\" />\r\n          : null\r\n        }\r\n      </div>\r\n      <div style={{ marginLeft: 35 }}>{text}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default class CommentDrawer extends PureComponent {\r\n\r\n  state = {\r\n    value: '',\r\n  }\r\n\r\n  showDeleteConfirm = (index) => {\r\n    confirm({\r\n      title: 'Are you sure you want to delete this comment?',\r\n      okText: 'Yes',\r\n      okType: 'danger',\r\n      cancelText: 'No',\r\n      icon: <Icon style={{ color: '#980000', cursor: 'pointer' }} type=\"delete\" />,\r\n      onOk: () => {\r\n        this.props.deleteComment(index)\r\n      },\r\n      onCancel: () => {\r\n\r\n      },\r\n    });\r\n  }\r\n\r\n  scrollToBottom = () => {\r\n    this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\r\n  }\r\n\r\n  render() {\r\n    const { routeTo, commentLoading, addComment, user, onDislikeHandler, onClose, commenting, onLikeHandler, onDeletePostHandler, editPost } = this.props;\r\n    let post = null;\r\n    let commentsList = null;\r\n    if (commenting) {\r\n      const { sender, likedBy, timeStamp, content, comments, _id, status } = commenting;\r\n      post = (\r\n        <Post\r\n          editPost={() => {\r\n            editPost(commenting);\r\n          }}\r\n          routeTo={routeTo}\r\n          deletePost={() => {\r\n            let id = _id;\r\n            onDeletePostHandler(id);\r\n          }}\r\n          broadcast={status === 'broadcast'}\r\n          postId={_id}\r\n          currUser={user}\r\n          userId={sender._id}\r\n          user={sender}\r\n          liked={likedBy.includes(user._id)}\r\n          timestamp={timeStamp}\r\n          statusText={content}\r\n          likeCount={likedBy.length}\r\n          commentsCount={comments.length}\r\n          onCommentClick={() => { }}\r\n          onLikeClick={() => onLikeHandler(commenting)}\r\n          onDislikeClick={() => onDislikeHandler(commenting)}\r\n        />\r\n      )\r\n      commentsList = (comments.length ?\r\n        comments.map((c, i) => (\r\n          <Comment key={i} index={i} onDelete={this.showDeleteConfirm} user={c.user} currUser={user} text={c.text} />\r\n        ))\r\n        : <span\r\n          style={{\r\n            display: 'block',\r\n            margin: 'auto',\r\n            width: 'fit-content',\r\n            marginTop: 50,\r\n            color: '#d3d3d3',\r\n            userSelect: 'none'\r\n          }}\r\n        >No comments yet</span>\r\n      )\r\n\r\n    }\r\n    return (\r\n      <Drawer\r\n        placement=\"right\"\r\n        closable={true}\r\n        onClose={() => {\r\n          this.setState({ value: '' });\r\n          onClose();\r\n        }}\r\n        visible={Boolean(commenting)}\r\n        width={600}\r\n        bodyStyle={{\r\n          height: '100%',\r\n        }}\r\n      >\r\n        {post}\r\n        <div\r\n          style={{\r\n            marginBottom: 50,\r\n          }}\r\n        >\r\n          <h3>Comments</h3>\r\n          {commentsList}\r\n        </div>\r\n        <div style={{\r\n          height: 50,\r\n          position: 'absolute',\r\n          bottom: 0,\r\n          left: 0,\r\n          width: '100%',\r\n          background: '#eee',\r\n          display: 'flex',\r\n        }}>\r\n          <Input\r\n            type='text'\r\n            value={this.state.value}\r\n            onChange={e => this.setState({ value: e.target.value })}\r\n            onPressEnter={() => {\r\n              if (commentLoading) {\r\n                return;\r\n              }\r\n              addComment(this.state.value, commenting)\r\n              this.setState({ value: '' });\r\n              setTimeout(() => {\r\n                this.scrollToBottom();\r\n              });\r\n            }}\r\n            placeholder='Type your comment'\r\n            style={{\r\n              background: 'transparent',\r\n              border: 'none',\r\n              boxShadow: 'none',\r\n              borderColor: 'transparent',\r\n              lineHeight: '50px',\r\n              height: 50,\r\n            }}\r\n          />\r\n          <Button\r\n            type='primary'\r\n            loading={commentLoading}\r\n            onClick={() => {\r\n              addComment(this.state.value, commenting)\r\n              this.setState({ value: '' });\r\n              setTimeout(() => {\r\n                this.scrollToBottom();\r\n              });\r\n            }}\r\n            style={{\r\n              height: '100%',\r\n              borderRadius: 0,\r\n            }}\r\n          >Comment</Button>\r\n        </div>\r\n        <div\r\n          style={{ float: \"left\", clear: \"both\" }}\r\n          ref={(el) => { this.messagesEnd = el; }}\r\n        >\r\n        </div>\r\n      </Drawer>\r\n    )\r\n  }\r\n}","export const actions = {\r\n  SET_ALL_POSTS: \"SET_ALL_POSTS\",\r\n  SET_POSTS_COUNT: 'SET_POSTS_COUNT',\r\n  SET_BROADCASTED_POSTS_COUNT: 'SET_BROADCASTED_POSTS_COUNT',\r\n  SET_BROADCASTED_POSTS: 'SET_BROADCASTED_POSTS',\r\n}\r\n\r\nexport const setAllPosts = data => ({\r\n  type: actions.SET_ALL_POSTS,\r\n  data,\r\n})\r\nexport const setPostsCount = data => ({\r\n  type: actions.SET_POSTS_COUNT,\r\n  data,\r\n})\r\n\r\nexport const setBroadcastPostsCount = data => ({\r\n  type: actions.SET_BROADCASTED_POSTS_COUNT,\r\n  data,\r\n})\r\nexport const setAllBroadcastedPosts = data => ({\r\n  type: actions.SET_BROADCASTED_POSTS,\r\n  data,\r\n})","import { request } from '../../../shared/verb';\r\nimport { setPostsCount, setBroadcastPostsCount } from '../../actions/community';\r\n\r\nexport const getAllPosts = (page, resolve = () => { }, reject = () => { }) => dispatch => {\r\n  return request('posts/all?page=' + page, null, 'get').then(({ data }) => {\r\n    dispatch(setPostsCount(data.data.count));\r\n    resolve(data.data.posts);\r\n  }, reject)\r\n}\r\n\r\nexport const getAllBroadcastedPosts = (page) => dispatch => {\r\n  return request('broadcast/all?page=' + page, null, 'get').then(({ data }) => {\r\n    dispatch(setBroadcastPostsCount(data.data.count));\r\n    return data.data.post;\r\n  });\r\n}\r\n\r\nexport const createPost = (body) => () => {\r\n  return request('posts/create', body, 'post');\r\n}\r\n\r\nexport const updatePost = (id, body) => () => {\r\n  return request('posts/update?id=' + id, body, 'put');\r\n}\r\n\r\nexport const deletePost = (id) => () => {\r\n  return request('posts/delete?id=' + id, null, 'delete');\r\n}","import React, { Component } from 'react'\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport styles from './Community.module.scss'\r\nimport PostValue from '../../component/PostValue/PostValue';\r\nimport Post from '../../component/Post/Post';\r\nimport { Button, Spin, Tabs, Modal, message } from 'antd'\r\nimport smoothscroll from 'smoothscroll-polyfill';\r\nimport CommentDrawer from '../../component/CommentDrawer/CommentDrawer';\r\nimport { getAllPosts, createPost, updatePost, deletePost, getAllBroadcastedPosts } from '../../redux/services/community';\r\nimport { setAllPosts, setAllBroadcastedPosts } from '../../redux/actions/community';\r\nimport { push } from 'connected-react-router';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\n\r\nconst { TabPane } = Tabs;\r\n// kick off the polyfill!\r\nsmoothscroll.polyfill();\r\n\r\nclass Community extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.myRef = React.createRef()   // Create a ref object \r\n\r\n    this.state = {\r\n      scrollToTop: false,\r\n      commenting: null,\r\n      tabViewKey: \"1\",\r\n      loading: true,\r\n      broadcastLoading: false,\r\n      loadingMore: false,\r\n      page: 1,\r\n      commentLoading: false,\r\n      confirmLoading: false,\r\n      selectedPost: null,\r\n      editValue: '',\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.myRef.current.addEventListener('scroll', this.listenToScroll)\r\n    new Promise((resolve, reject) => {\r\n      this.props.getAllPosts(this.state.page, resolve, reject)\r\n    }).then((posts) => {\r\n      this.props.setAllPosts(posts);\r\n      this.setState({\r\n        loading: false,\r\n      })\r\n    })\r\n  }\r\n  componentWillUnmount() {\r\n    this.myRef.current.removeEventListener('scroll', this.listenToScroll)\r\n  }\r\n  listenToScroll = () => {\r\n    if (this.myRef.current.scrollTop > 250) {\r\n      this.state.scrollToTop || this.setState({\r\n        scrollToTop: true,\r\n      })\r\n    } else {\r\n      this.state.scrollToTop && this.setState({\r\n        scrollToTop: false,\r\n      })\r\n    }\r\n  }\r\n  scrollToTop = () => {\r\n    this.myRef.current.scroll({ top: 0, left: 0, behavior: 'smooth' });\r\n  }\r\n  onLikeHandler = post => {\r\n    if (!this.props.user.verified) {\r\n      message.error(\"Please verify you email address before any community activity.\");\r\n      return;\r\n    }\r\n    const { likedBy, comments, sender, content, _id, timeStamp } = post;\r\n    likedBy.push(this.props.user._id);\r\n\r\n    let updatedPosts = [...this.props.allPosts];\r\n    updatedPosts.find((p, i) => {\r\n      if (p._id === post._id) {\r\n        updatedPosts[i] = { ...p, likedBy: likedBy };\r\n        if (this.state.commenting && post._id === this.state.commenting._id) {\r\n          this.setState({\r\n            commenting: updatedPosts[i],\r\n          })\r\n        }\r\n        return true;\r\n      }\r\n      return false;\r\n    })\r\n    this.props.setAllPosts(updatedPosts);\r\n    this.props.updatePost(_id, {\r\n      sender: sender._id,\r\n      content,\r\n      comments,\r\n      likedBy,\r\n      timeStamp\r\n    })\r\n  }\r\n  onDislikeHandler = (post) => {\r\n    const { likedBy, comments, sender, content, _id, timeStamp } = post;\r\n    let updatedLikers = likedBy.filter(id => id !== this.props.user._id)\r\n\r\n    let updatedPosts = [...this.props.allPosts];\r\n    updatedPosts.find((p, i) => {\r\n      if (p._id === post._id) {\r\n        updatedPosts[i] = { ...p, likedBy: updatedLikers };\r\n        if (this.state.commenting && post._id === this.state.commenting._id) {\r\n          this.setState({\r\n            commenting: updatedPosts[i],\r\n          })\r\n        }\r\n        return true;\r\n      }\r\n      return false;\r\n    })\r\n    this.props.setAllPosts(updatedPosts);\r\n    this.props.updatePost(_id, {\r\n      sender: sender._id,\r\n      content,\r\n      comments,\r\n      likedBy: updatedLikers,\r\n      timeStamp\r\n    });\r\n  }\r\n  addPostHandler = (content, status) => {\r\n    return this.props.createPost({\r\n      sender: this.props.user._id,\r\n      timeStamp: Date.now(),\r\n      status: status ? \"broadcast\" : \"post\",\r\n      content\r\n    }).then(({ data }) => {\r\n      let updatedPosts = [...this.props.allPosts];\r\n      updatedPosts.unshift(data.data)\r\n      this.props.setAllPosts(updatedPosts);\r\n    })\r\n  }\r\n  filteredPosts = (allPosts) => {\r\n    return allPosts.filter(p => p.sender._id === this.props.user._id);\r\n  }\r\n  addComment = (comment, currPost) => {\r\n    if (!comment.trim()) {\r\n      this.setState({ commentLoading: false });\r\n      return;\r\n    }\r\n    if (!this.props.user.verified) {\r\n      message.error(\"Please verify you email address before any community activity.\");\r\n      this.setState({ commentLoading: false });\r\n      return;\r\n    }\r\n    this.setState({ commentLoading: true });\r\n    const { likedBy, comments, sender, content, _id, timeStamp } = currPost;\r\n    let updatedPosts = [...this.props.allPosts];\r\n    let tempComments = [...comments];\r\n\r\n    //for local updating\r\n    tempComments.push({\r\n      user: {\r\n        _id: this.props.user._id,\r\n        username: this.props.user.username,\r\n      },\r\n      text: comment.trim(),\r\n    })\r\n    updatedPosts.find((post, i) => {\r\n      if (post._id === _id) {\r\n        updatedPosts[i] = { ...currPost, comments: tempComments }\r\n        if (this.state.commenting) {\r\n          this.setState({\r\n            commenting: updatedPosts[i],\r\n          })\r\n        }\r\n        return true;\r\n      }\r\n      return false;\r\n    })\r\n    this.props.setAllPosts(updatedPosts);\r\n    //------------------------------\r\n    comments.push({\r\n      user: this.props.user._id,\r\n      text: comment.trim(),\r\n    })\r\n    this.props.updatePost(_id, {\r\n      sender: sender._id,\r\n      content,\r\n      comments,\r\n      likedBy,\r\n      timeStamp\r\n    }).then(() => {\r\n      this.setState({ commentLoading: false });\r\n    })\r\n  }\r\n  deleteCommentHandler = (index) => {\r\n    if (!this.state.commenting) {\r\n      return;\r\n    }\r\n    let currentPost = { ...this.state.commenting };\r\n    let { likedBy, comments, sender, content, _id, timeStamp } = currentPost;\r\n    comments = comments.filter((c, i) => i !== index);\r\n    let updatedPosts = [...this.props.allPosts];\r\n    updatedPosts.find((p, i) => {\r\n      if (p._id === currentPost._id) {\r\n        updatedPosts[i] = { ...currentPost, comments };\r\n        if (this.state.commenting) {\r\n          this.setState({\r\n            commenting: updatedPosts[i],\r\n          })\r\n        }\r\n        return true;\r\n      }\r\n      return false;\r\n    })\r\n    this.props.setAllPosts(updatedPosts);\r\n    this.props.updatePost(_id, {\r\n      sender: sender._id,\r\n      content,\r\n      comments,\r\n      likedBy,\r\n      timeStamp\r\n    })\r\n  }\r\n  onRefresh = () => {\r\n    this.setState({\r\n      loading: true,\r\n      page: 1,\r\n    }, () => {\r\n      new Promise((resolve, reject) => {\r\n        this.props.getAllPosts(this.state.page, resolve, reject)\r\n      }).then((posts) => {\r\n        this.props.setAllPosts(posts);\r\n        this.setState({\r\n          loading: false,\r\n        })\r\n      })\r\n    })\r\n  }\r\n  loadMore = () => {\r\n    this.setState({\r\n      loadingMore: true,\r\n    })\r\n    new Promise((resolve, reject) => {\r\n      this.props.getAllPosts(this.state.page + 1, resolve, reject)\r\n    }).then((posts) => {\r\n      this.props.setAllPosts([...this.props.allPosts, ...posts]);\r\n      this.setState(prevState => ({\r\n        loadingMore: false,\r\n        page: prevState.page + 1\r\n      }))\r\n    })\r\n  }\r\n  deletePostHandler = id => {\r\n    let updatedPosts = this.props.allPosts.filter(p => p._id !== id);\r\n    this.props.setAllPosts(updatedPosts);\r\n    if (this.state.commenting && this.state.commenting._id === id) {\r\n      this.setState({\r\n        commenting: null,\r\n      })\r\n    }\r\n    this.props.deletePost(id);\r\n  }\r\n  handleOk = () => {\r\n    if (!this.state.editValue.trim()) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      confirmLoading: true,\r\n    });\r\n\r\n    const { likedBy, comments, sender, _id, timeStamp } = this.state.selectedPost;\r\n\r\n    let updatedPosts = [...this.props.allPosts];\r\n    updatedPosts.find((p, i) => {\r\n      if (p._id === _id) {\r\n        updatedPosts[i] = { ...p, content: this.state.editValue };\r\n        if (this.state.commenting && p._id === this.state.commenting._id) {\r\n          this.setState({\r\n            commenting: updatedPosts[i],\r\n          })\r\n        }\r\n        return true;\r\n      }\r\n      return false;\r\n    })\r\n    this.props.updatePost(_id, {\r\n      sender: sender._id,\r\n      content: this.state.editValue,\r\n      comments,\r\n      likedBy,\r\n      timeStamp\r\n    }).then(() => {\r\n      this.props.setAllPosts(updatedPosts);\r\n      this.setState({\r\n        selectedPost: null,\r\n        confirmLoading: false,\r\n      });\r\n    })\r\n\r\n  };\r\n  handleCancel = () => {\r\n    this.setState({\r\n      selectedPost: null,\r\n    });\r\n  };\r\n  editingPost = (post) => {\r\n    this.setState({\r\n      selectedPost: post,\r\n      editValue: post.content,\r\n      commenting: null,\r\n    })\r\n  }\r\n\r\n  handleTabViewChange = key => {\r\n    this.setState({ tabViewKey: key, page: 1 })\r\n    if (key === \"3\") {\r\n      if (!this.props.allBroadcastedPosts.length) {\r\n        this.setState({\r\n          broadcastLoading: true,\r\n        })\r\n        this.props.getAllBroadcastedPosts(1).then((posts) => {\r\n          this.props.setAllBroadcastedPosts(posts);\r\n          this.setState({\r\n            broadcastLoading: false,\r\n          })\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      selectedPost, confirmLoading, editValue, tabViewKey, scrollToTop, loading, commentLoading, commenting\r\n    } = this.state;\r\n    let filteredPosts = [];\r\n    if (tabViewKey === \"2\") {\r\n      filteredPosts = this.filteredPosts(this.props.allPosts);\r\n    }\r\n\r\n    return (\r\n      <div style={{\r\n        width: '100%',\r\n        height: 'calc(100vh - 64px)',\r\n        overflow: 'auto',\r\n      }} ref={this.myRef}>\r\n        <div className={styles.container}>\r\n          <PostValue\r\n            addHandler={this.addPostHandler}\r\n            loading={loading}\r\n            refresh={this.onRefresh}\r\n            verifiedUser={this.props.user.verified}\r\n            role={this.props.user.role}\r\n          />\r\n          <Tabs onChange={this.handleTabViewChange} activeKey={tabViewKey} tabPosition='left'>\r\n            <TabPane tab=\"Timeline\" key=\"1\">\r\n              {\r\n                this.state.loading ?\r\n                  <div style={{\r\n                    width: '100%',\r\n                    height: 150,\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    justifyContent: 'center'\r\n                  }}>\r\n                    <Spin />\r\n                  </div>\r\n                  :\r\n                  this.props.allPosts.length ? this.props.allPosts.sort(function (x, y) {\r\n                    return y.timeStamp - x.timeStamp;\r\n                  }).map((post, i) => (\r\n                    <Post\r\n                      deletePost={() => {\r\n                        let id = post._id;\r\n                        this.deletePostHandler(id);\r\n                      }}\r\n                      editPost={() => {\r\n                        let currPost = post;\r\n                        this.editingPost(currPost);\r\n                      }}\r\n                      broadcast={post.status === 'broadcast'}\r\n                      key={i}\r\n                      postId={post._id}\r\n                      currUser={this.props.user}\r\n                      routeTo={url => this.props.push(url)}\r\n                      userId={post.sender._id}\r\n                      user={post.sender}\r\n                      liked={post.likedBy.includes(this.props.user._id)}\r\n                      timestamp={post.timeStamp}\r\n                      statusText={post.content}\r\n                      likeCount={post.likedBy.length}\r\n                      commentsCount={post.comments.length}\r\n                      onCommentClick={() => {\r\n                        let currPost = post;\r\n                        this.setState({\r\n                          commenting: currPost,\r\n                        });\r\n                      }}\r\n                      onLikeClick={() => {\r\n                        let currPost = post;\r\n                        this.onLikeHandler(currPost);\r\n                      }}\r\n                      onDislikeClick={() => {\r\n                        let currPost = post;\r\n                        this.onDislikeHandler(currPost);\r\n                      }}\r\n                    />\r\n                  )) :\r\n                    <span style={{\r\n                      width: 'fit-content',\r\n                      display: 'block',\r\n                      margin: '50px auto',\r\n                      color: '#00000080'\r\n                    }}>No posts available</span>\r\n              }\r\n              {\r\n                Math.ceil(this.props.postsCount / 10) > this.state.page && !this.state.loading ?\r\n                  <div style={{ textAlign: 'center' }}>\r\n                    <Button loading={this.state.loadingMore} onClick={this.loadMore} type='secondary'>Load More</Button>\r\n                  </div>\r\n                  : null\r\n              }\r\n            </TabPane>\r\n            <TabPane tab=\"My Posts\" key=\"2\">\r\n              {\r\n                this.state.loading ?\r\n                  <div style={{\r\n                    width: '100%',\r\n                    height: 150,\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    justifyContent: 'center'\r\n                  }}>\r\n                    <Spin />\r\n                  </div>\r\n                  :\r\n                  filteredPosts.length ? filteredPosts.sort(function (x, y) {\r\n                    return y.timeStamp - x.timeStamp;\r\n                  }).map((post, i) => (\r\n                    <Post\r\n                      key={i}\r\n                      deletePost={() => {\r\n                        let id = post._id;\r\n                        this.deletePostHandler(id);\r\n                      }}\r\n                      editPost={() => {\r\n                        let currPost = post;\r\n                        this.editingPost(currPost);\r\n                      }}\r\n                      postId={post._id}\r\n                      broadcast={post.status === 'broadcast'}\r\n                      currUser={this.props.user}\r\n                      routeTo={url => this.props.push(url)}\r\n                      userId={post.sender._id}\r\n                      user={post.sender}\r\n                      liked={post.likedBy.includes(this.props.user._id)}\r\n                      timestamp={post.timeStamp}\r\n                      statusText={post.content}\r\n                      likeCount={post.likedBy.length}\r\n                      commentsCount={post.comments.length}\r\n                      onCommentClick={() => {\r\n                        let currPost = post;\r\n                        this.setState({\r\n                          commenting: currPost,\r\n                        });\r\n                      }}\r\n                      onLikeClick={() => {\r\n                        let currPost = post;\r\n                        this.onLikeHandler(currPost);\r\n                      }}\r\n                      onDislikeClick={() => {\r\n                        let currPost = post;\r\n                        this.onDislikeHandler(currPost);\r\n                      }}\r\n                    />\r\n                  )) :\r\n                    <span style={{\r\n                      width: 'fit-content',\r\n                      display: 'block',\r\n                      margin: '50px auto',\r\n                      color: '#00000080'\r\n                    }}>No posts available</span>\r\n              }\r\n            </TabPane>\r\n            <TabPane tab=\"Broadcasted Posts\" key=\"3\">\r\n              {\r\n                this.state.broadcastLoading ?\r\n                  <div style={{\r\n                    width: '100%',\r\n                    height: 150,\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    justifyContent: 'center'\r\n                  }}>\r\n                    <Spin />\r\n                  </div>\r\n                  :\r\n                  this.props.allBroadcastedPosts.length ? this.props.allBroadcastedPosts.sort(function (x, y) {\r\n                    return y.timeStamp - x.timeStamp;\r\n                  }).map((post, i) => (\r\n                    <Post\r\n                      key={i}\r\n                      deletePost={() => {\r\n                        let id = post._id;\r\n                        this.deletePostHandler(id);\r\n                      }}\r\n                      editPost={() => {\r\n                        let currPost = post;\r\n                        this.editingPost(currPost);\r\n                      }}\r\n                      broadcast={post.status === 'broadcast'}\r\n                      postId={post._id}\r\n                      currUser={this.props.user}\r\n                      routeTo={url => this.props.push(url)}\r\n                      userId={post.sender._id}\r\n                      user={post.sender}\r\n                      liked={post.likedBy.includes(this.props.user._id)}\r\n                      timestamp={post.timeStamp}\r\n                      statusText={post.content}\r\n                      likeCount={post.likedBy.length}\r\n                      commentsCount={post.comments.length}\r\n                      onCommentClick={() => {\r\n                        let currPost = post;\r\n                        this.setState({\r\n                          commenting: currPost,\r\n                        });\r\n                      }}\r\n                      onLikeClick={() => {\r\n                        let currPost = post;\r\n                        this.onLikeHandler(currPost);\r\n                      }}\r\n                      onDislikeClick={() => {\r\n                        let currPost = post;\r\n                        this.onDislikeHandler(currPost);\r\n                      }}\r\n                    />\r\n                  )) :\r\n                    <span style={{\r\n                      width: 'fit-content',\r\n                      display: 'block',\r\n                      margin: '50px auto',\r\n                      color: '#00000080'\r\n                    }}>No posts available</span>\r\n              }\r\n            </TabPane>\r\n          </Tabs>\r\n          <Button\r\n            className={styles.scrollBtn}\r\n            style={{\r\n              display: scrollToTop ? \"initial\" : 'none',\r\n            }}\r\n            onClick={this.scrollToTop}\r\n          >Top\r\n          </Button>\r\n        </div>\r\n        <CommentDrawer\r\n          editPost={this.editingPost}\r\n          deleteComment={this.deleteCommentHandler}\r\n          onDeletePostHandler={this.deletePostHandler}\r\n          routeTo={url => this.props.push(url)}\r\n          commentLoading={commentLoading}\r\n          addComment={this.addComment}\r\n          commenting={commenting}\r\n          onClose={() => this.setState({ commenting: null })}\r\n          onLikeHandler={this.onLikeHandler}\r\n          onDislikeHandler={this.onDislikeHandler}\r\n          user={this.props.user}\r\n        />\r\n        <Modal\r\n          title=\"Edit Post\"\r\n          visible={Boolean(selectedPost)}\r\n          onOk={this.handleOk}\r\n          okText={'Update'}\r\n          confirmLoading={confirmLoading}\r\n          onCancel={this.handleCancel}\r\n          centered\r\n        >\r\n          <TextArea\r\n            value={editValue}\r\n            style={{\r\n              resize: 'none',\r\n              borderRadius: '0',\r\n              boxShadow: 'none !important',\r\n            }}\r\n            onChange={({ target }) => this.setState({ editValue: target.value })}\r\n            placeholder=\"What's on your mind?\"\r\n            rows={5}\r\n            disabled={confirmLoading}\r\n          />\r\n        </Modal>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n//these functions below are used for redux only!!!\r\n\r\n//this is used to get data from redux\r\nconst mapStateToProps = state => ({\r\n  allPosts: state.community.allPosts,\r\n  allBroadcastedPosts: state.community.allBroadcastedPosts,\r\n  postsCount: state.community.postsCount,\r\n  user: state.auth.user,\r\n})\r\n\r\n//this is used to send/update data to redux\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({\r\n    getAllPosts,\r\n    setAllPosts,\r\n    getAllBroadcastedPosts,\r\n    setAllBroadcastedPosts,\r\n    updatePost,\r\n    deletePost,\r\n    createPost,\r\n    push,\r\n  }, dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Community);","export const actions = {\r\n  SET_DASHBOARD_STATS: 'SET_DASHBOARD_STATS',\r\n  SET_COMMUNITY_STATS: 'SET_COMMUNITY_STATS',\r\n}\r\n\r\nexport const setDashboardStats = (data) => ({\r\n  type: actions.SET_DASHBOARD_STATS,\r\n  data,\r\n})\r\nexport const setCommunityStats = (data) => ({\r\n  type: actions.SET_COMMUNITY_STATS,\r\n  data,\r\n})","import { request } from '../../../shared/verb';\r\nimport { setDashboardStats, setCommunityStats } from '../../actions/dashboard';\r\n\r\n\r\nexport const getDashboardStats = (id) => (dispatch) => {\r\n  return request(\"stats/dashboard\", null, 'get').then(({ data }) => {\r\n    dispatch(setDashboardStats(data.data));\r\n  })\r\n}\r\n\r\nexport const getCommunityStats = (id) => (dispatch) => {\r\n  return request(\"stats/community\", null, 'get').then(({ data }) => {\r\n    dispatch(setCommunityStats(data.data.lastMonthTrend));\r\n  })\r\n}","import React, { Component } from 'react'\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport styles from './Dashboard.module.scss'\r\nimport { Card, Row, Col } from 'antd';\r\nimport alumniIcon from '../../assets/alumni.svg'\r\nimport adminIcon from '../../assets/admin.svg'\r\nimport departmentIcon from '../../assets/department.svg'\r\nimport facultyIcon from '../../assets/faculty.svg'\r\nimport CountUp from 'react-countup';\r\nimport { getDashboardStats, getCommunityStats } from '../../redux/services/dashboard';\r\nimport { push } from 'connected-react-router'\r\nimport ReactApexChart from 'react-apexcharts'\r\nconst cards = [\r\n  {\r\n    title: 'Alumni',\r\n    key: 'alumni',\r\n    icon: alumniIcon,\r\n  },\r\n  {\r\n    title: 'Department',\r\n    key: 'departs',\r\n    icon: departmentIcon,\r\n  },\r\n  {\r\n    title: 'Admin',\r\n    key: 'admins',\r\n    icon: adminIcon,\r\n  },\r\n  {\r\n    title: 'Community Posts',\r\n    key: 'postsCount',\r\n    icon: facultyIcon,\r\n  },\r\n\r\n]\r\n\r\nconst DataCard = React.memo(({ icon, title, value }) => (\r\n  <Card\r\n    bodyStyle={{\r\n      padding: 15,\r\n    }}\r\n  >\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'space-between'\r\n      }}\r\n    >\r\n      <img width={60} src={icon} alt=\"\" />\r\n      <div style={{ textAlign: 'right' }}>\r\n        <h2>{title}</h2>\r\n        <span style={{ fontSize: 28 }}><CountUp start={0} end={value} /></span>\r\n      </div>\r\n    </div>\r\n  </Card>\r\n))\r\n\r\nclass Dashboard extends Component {\r\n  state = {\r\n    options: {\r\n      labels: ['Un-Employed', 'Employed', 'Part-Time', 'Self-Employed'],\r\n      responsive: [{\r\n        breakpoint: 480,\r\n        options: {\r\n          chart: {\r\n            width: 300,\r\n\r\n          },\r\n          legend: {\r\n            position: 'bottom'\r\n          }\r\n        }\r\n      }]\r\n    },\r\n    series: [44, 55, 13, 43, 22],\r\n    timeSeriesOptions: {\r\n      chart: {\r\n        stacked: false,\r\n        zoom: {\r\n          enabled: false,\r\n        },\r\n        toolbar: {\r\n          show: false,\r\n        }\r\n      },\r\n      plotOptions: {\r\n        line: {\r\n          curve: 'smooth',\r\n        }\r\n      },\r\n      dataLabels: {\r\n        enabled: false\r\n      },\r\n      markers: {\r\n        size: 0,\r\n        style: 'full',\r\n      },\r\n      //colors: ['#0165fc'],\r\n      title: {\r\n        text: 'Community Posts Trends (Last 30 Days)',\r\n        align: 'left'\r\n      },\r\n      fill: {\r\n        type: 'gradient',\r\n        gradient: {\r\n          shadeIntensity: 1,\r\n          inverseColors: false,\r\n          opacityFrom: 0.5,\r\n          opacityTo: 0,\r\n          stops: [0, 90, 100]\r\n        },\r\n      },\r\n      yaxis: {\r\n        min: 0,\r\n        labels: {\r\n          formatter: function (val) {\r\n            return val.toFixed(0);\r\n          },\r\n        },\r\n        title: {\r\n          text: 'Community Posts'\r\n        },\r\n      },\r\n      xaxis: {\r\n        type: 'datetime',\r\n      },\r\n      tooltip: {\r\n        shared: false,\r\n        y: {\r\n          formatter: function (val) {\r\n            return (val / 1000000).toFixed(0)\r\n          }\r\n        }\r\n      }\r\n    },\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.user.role === 'alumni') {\r\n      this.props.push('/app/community');\r\n    } else {\r\n      this.props.getDashboardStats();\r\n      this.props.getCommunityStats();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(this.props.communityStats)\r\n    let series = [];\r\n    if (this.props.stats.employmentStatus) {\r\n      const { employed, partTime, selfEmployed, unEmployed } = this.props.stats.employmentStatus;\r\n      series = [unEmployed, employed, partTime, selfEmployed];\r\n    }\r\n    return (\r\n      <div className={styles.container}>\r\n        <Row gutter={{ xs: 8, sm: 16, md: 24, lg: 32 }}>\r\n          {\r\n            cards.map((c, i) => (\r\n              <Col key={i} span={6} xs={24} sm={12} md={12} lg={6} >\r\n                <DataCard title={c.title} value={this.props.stats[c.key]} icon={c.icon} />\r\n              </Col>\r\n            ))\r\n          }\r\n        </Row>\r\n        <Row style={{ padding: 20 }} gutter={{ xs: 8, sm: 16, md: 24, lg: 32 }}>\r\n          <Col span={6} md={24} lg={10} >\r\n            <div\r\n              style={{\r\n                margin: 40,\r\n                textAlign: 'center',\r\n              }}\r\n            >\r\n              <h3 style={{ fontWeight: 'bold' }}>Employment Status</h3>\r\n              <br />\r\n              <div>\r\n                <div id=\"chart\">\r\n                  <ReactApexChart options={this.state.options} series={series} type=\"pie\" width=\"380\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n          <Col span={6} md={24} lg={14} >\r\n            <div id=\"anotherChart\">\r\n              <ReactApexChart options={this.state.timeSeriesOptions} series={[{\r\n                name: 'Posts',\r\n                data: this.props.communityStats,\r\n              }]} type=\"area\" height=\"350\" />\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n//these functions below are used for redux only!!!\r\n\r\n//this is used to get data from redux\r\nconst mapStateToProps = state => ({\r\n  stats: state.dashboard.stats,\r\n  user: state.auth.user,\r\n  communityStats: state.dashboard.communityStats,\r\n})\r\n\r\n//this is used to send/update data to redux\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({\r\n    getDashboardStats,\r\n    getCommunityStats,\r\n    push\r\n  }, dispatch)\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);","import React, { Component } from 'react'\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport styles from './PendingAlumni.module.scss'\r\nimport { Input, Modal, Button, Icon, Spin } from 'antd';\r\nimport { getAllPendingAlumni, updateAlumni } from '../../redux/services/alumni';\r\nimport { push } from 'connected-react-router'\r\n\r\nconst Search = Input.Search;\r\nconst { confirm } = Modal;\r\n\r\nfunction InfoItem({ title, value }) {\r\n  return (\r\n    <div style={{ display: 'flex' }}>\r\n      <span className='title' style={{ flex: 1, color: '#001529', }}>{title}:</span>\r\n      <span className='value' >{value || <>&ndash;</>}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Header = ({ text, modalAction, onSearch = () => { } }) => (\r\n  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '15px' }}>\r\n    <h2 style={{ margin: 0, }}>{text}</h2>\r\n    <div>\r\n      <Search\r\n        placeholder=\"Search\"\r\n        onSearch={onSearch}\r\n        style={{ width: 200 }}\r\n      />\r\n    </div>\r\n  </div>\r\n)\r\n\r\nclass PendingAlumni extends Component {\r\n\r\n  state = {\r\n    selectedAlumni: null,\r\n    loading: true,\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.user.role === 'alumni') {\r\n      this.props.push('/app/community');\r\n    } else {\r\n      this.props.getAllPendingAlumni().then(() => {\r\n        this.setState({ loading: false })\r\n      })\r\n    }\r\n  }\r\n\r\n  handleVerify = () => {\r\n    confirm({\r\n      title: 'Are you sure you want to verify this alumni?',\r\n      okText: 'Yes',\r\n      okType: 'primary',\r\n      cancelText: 'No',\r\n      icon: <Icon type=\"done\" />,\r\n      onOk: () => {\r\n        this.setState({ loading: true })\r\n        this.props.updateAlumni(this.state.selectedAlumni._id, 'verified').then(() => {\r\n          this.props.getAllPendingAlumni().then(() => {\r\n            this.setState({ loading: false })\r\n          })\r\n        })\r\n        this.setState({ selectedAlumni: null })\r\n      },\r\n      onCancel: () => {\r\n\r\n      }\r\n    })\r\n  }\r\n  handleReject = () => {\r\n    confirm({\r\n      title: 'Are you sure you want to reject this alumni?',\r\n      okText: 'Yes',\r\n      okType: 'danger',\r\n      cancelText: 'No',\r\n      icon: <Icon type=\"close\" />,\r\n      onOk: () => {\r\n        this.setState({ loading: true })\r\n        this.props.updateAlumni(this.state.selectedAlumni._id, 'rejected').then(() => {\r\n          this.props.getAllPendingAlumni().then(() => {\r\n            this.setState({ loading: false })\r\n          })\r\n        })\r\n        this.setState({ selectedAlumni: null })\r\n      },\r\n      onCancel: () => {\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.container} >\r\n        <Spin spinning={this.state.loading}>\r\n          <Header text='Pending Alumni' />\r\n          <div style={{\r\n            padding: '10px 15px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            maxHeight: \"calc(100% - 65px)\",\r\n            overflow: \"auto\"\r\n          }}>\r\n            {this.props.pendingAlumni.length ?\r\n              this.props.pendingAlumni.map(a => (\r\n                <div key={a._id} onClick={() => this.setState({ selectedAlumni: { ...a } })} className={styles.pendingAlumni}>\r\n                  <div>{a.username}</div>\r\n                  <span>{a.email}</span>\r\n                </div>\r\n              ))\r\n              : <div style={{ textAlign: 'center', color: '#999', marginTop: 80, flex: 1 }}>No Data</div>\r\n            }\r\n          </div>\r\n          <Modal\r\n            title=\"Verify Alumni\"\r\n            visible={Boolean(this.state.selectedAlumni)}\r\n            onOk={this.handleVerify}\r\n            okText={'Verify'}\r\n            destroyOnClose\r\n            onCancel={() => this.setState({ selectedAlumni: null })}\r\n            centered\r\n            footer={[\r\n              <Button key=\"back\" onClick={() => this.setState({ selectedAlumni: null })}>\r\n                Cancel\r\n            </Button>,\r\n              <Button type='danger' key=\"reject\" onClick={this.handleReject}>\r\n                Reject\r\n            </Button>,\r\n              <Button key=\"submit\" type=\"primary\" onClick={this.handleVerify}>\r\n                Verify\r\n            </Button>,\r\n            ]}\r\n          >\r\n            {this.state.selectedAlumni ?\r\n              <>\r\n                <InfoItem title=\"Name\" value={this.state.selectedAlumni.username} />\r\n                <InfoItem title=\"NIC No\" value={this.state.selectedAlumni.nicNo} />\r\n                <InfoItem title=\"Enrollment No\" value={this.state.selectedAlumni.enrollmentNo} />\r\n                <InfoItem title=\"Department\" value={this.state.selectedAlumni.department ? `${this.state.selectedAlumni.department.initials}-${this.state.selectedAlumni.department.name}`.toUpperCase() : undefined} />\r\n                <InfoItem title=\"Degree\" value={this.state.selectedAlumni.degree} />\r\n              </>\r\n              : null\r\n            }\r\n          </Modal>\r\n        </Spin>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n//these functions below are used for redux only!!!\r\n\r\n//this is used to get data from redux\r\nconst mapStateToProps = state => ({\r\n  user: state.auth.user,\r\n  pendingAlumni: state.alumni.pendingAlumni,\r\n})\r\n\r\n//this is used to send/update data to redux\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({\r\n    getAllPendingAlumni,\r\n    push,\r\n    updateAlumni,\r\n  }, dispatch)\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PendingAlumni);","import Alumni from '../Alumni/Alumni'\r\nimport HeadOfDepartments from '../HeadOfDepartments/HeadOfDepartments'\r\nimport Departments from '../Departments/Departments';\r\nimport UserProfile from '../UserProfile/UserProfile';\r\nimport Community from '../Community/Community';\r\nimport Dashboard from '../Dashboard/Dashboard';\r\nimport PendingAlumni from '../PendingAlumni/PendingAlumni';\r\n\r\nexport default [\r\n  {\r\n    path: '/app',\r\n    name: 'Dashboard',\r\n    component: Dashboard,\r\n    exact: true,\r\n    strict: true\r\n  },\r\n  {\r\n    path: '/app/alumni',\r\n    name: 'Alumni',\r\n    component: Alumni,  //Attached the Alumni component here!\r\n    exact: true,\r\n    strict: true\r\n  },\r\n  {\r\n    path: '/app/pending-alumni',\r\n    name: 'Pending Alumni',\r\n    component: PendingAlumni,\r\n    exact: true,\r\n    strict: true\r\n  },\r\n  {\r\n    path: '/app/departments',\r\n    name: 'Departments',\r\n    component: Departments,\r\n    exact: true,\r\n    strict: true\r\n  },\r\n  {\r\n    path: '/app/hods',\r\n    name: 'Head of Departments',\r\n    component: HeadOfDepartments,\r\n    exact: true,\r\n    strict: true\r\n  },\r\n  {\r\n    path: '/app/community',\r\n    name: 'Community',\r\n    component: Community,\r\n    exact: true,\r\n    strict: true\r\n  }, {\r\n    path: '/app/profile',\r\n    name: 'Profile',\r\n    component: UserProfile,\r\n  },\r\n]","import React, { Component } from 'react'\r\nimport { Layout, Menu, Icon, Dropdown, Modal, Input, Button, message, Form, } from 'antd';\r\nimport './Main.scss';\r\n// import moment from 'moment';\r\nimport logoWide from '../../assets/logoWide.png';\r\nimport logo from '../../assets/logo.png';\r\nimport { alumni, admin, superAdmin } from \"./Menu\";\r\nimport routes from \"./routes\";\r\nimport { push } from 'connected-react-router';\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { logout, verifyUserCode, changePassword, resendUserCode } from '../../redux/services/auth';\r\nconst { Header, Sider, Content } = Layout;\r\nconst { Item } = Menu;\r\n\r\nclass Main extends Component {\r\n  state = {\r\n    collapsed: true,\r\n    selected: window.location.pathname,\r\n\r\n    //for email verification\r\n    codeVerifying: false,\r\n    verificationStatus: null,\r\n    codeValue: '',\r\n    codeVerificationModal: false,\r\n\r\n    //for reset pwd modal\r\n    pwdModal: false,\r\n    changePwdLoader: false,\r\n  };\r\n\r\n  toggle = () => {\r\n    this.setState((state) => ({\r\n      collapsed: !state.collapsed,\r\n    }));\r\n  };\r\n\r\n  menu = (\r\n    <Menu>\r\n      <Item onClick={() => this.props.push('/app/profile')}>\r\n        Profile\r\n      </Item>\r\n      <Item onClick={() => this.setState({ pwdModal: true })}>\r\n        Reset Password\r\n      </Item>\r\n      <Item onClick={this.props.logout}>\r\n        Log out\r\n      </Item>\r\n    </Menu>\r\n  );\r\n\r\n  verifyUserCode = () => {\r\n    if (!this.state.codeValue.trim()) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      codeVerifying: true,\r\n    })\r\n    this.props.verifyUserCode({\r\n      id: this.props.currentUser._id,\r\n      code: +this.state.codeValue,\r\n    }).then(() => {\r\n      message.success('Congratulation! your email has been verified!');\r\n      this.setState({\r\n        codeVerifying: false,\r\n        verificationStatus: 'verified'\r\n      })\r\n      setTimeout(() => {\r\n        window.location.replace('/');\r\n      }, 1500);\r\n    }, () => {\r\n      message.error('Incorrect verification code.');\r\n      this.setState({\r\n        codeVerifying: false,\r\n        verificationStatus: null,\r\n      })\r\n    })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    this.setState({ changePwdLoader: true })\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, { pwd, newPwd, newPwdAgain }) => {\r\n      if (!err) {\r\n        if (newPwd !== newPwdAgain) {\r\n          message.error(\"Password does not match!\")\r\n          this.setState({ changePwdLoader: false })\r\n          return;\r\n        }\r\n        this.props.changePassword({\r\n          oldPassword: pwd,\r\n          newPassword: newPwd,\r\n          token: localStorage.getItem('accessToken'),\r\n        }).then(() => {\r\n          message.success(\"Password Updated Successfully!\")\r\n          this.setState({ changePwdLoader: false, pwdModal: false, })\r\n        }, () => {\r\n          message.error(\"Incorrect Password!\")\r\n          this.setState({ changePwdLoader: false })\r\n        })\r\n      } else {\r\n        this.setState({ changePwdLoader: false })\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let arr = this.props.location.pathname.split('/');\r\n    let key = `/${arr[1]}/${arr[2]}`\r\n    if (arr.length < 3) {\r\n      key = `/${arr[1]}`\r\n    }\r\n    let menuList = [];\r\n    switch (this.props.currentUser.role) {\r\n      case \"super-admin\":\r\n        menuList = superAdmin;\r\n        break;\r\n      case \"admin\":\r\n      case \"HOD\":\r\n        menuList = admin;\r\n        break;\r\n      default:\r\n        menuList = alumni;\r\n    }\r\n    const { getFieldDecorator } = this.props.form;\r\n    return (\r\n      <Layout style={{ height: '100vh' }}>\r\n        <Sider style={{ position: 'relative' }} trigger={null} collapsible collapsed={this.state.collapsed}>\r\n          <div className=\"logo\" style={{ margin: '15px auto', width: 'fit-content' }}>\r\n            <img src={this.state.collapsed ? logo : logoWide} width={this.state.collapsed ? 60 : 150} alt=\"\" />\r\n          </div>\r\n          <Menu\r\n            style={{ marginTop: 50 }}\r\n            theme=\"dark\"\r\n            mode=\"inline\"\r\n            defaultSelectedKeys={[key]}\r\n            selectedKeys={[key]}\r\n            onSelect={({ key }) => {\r\n              this.props.push(key);\r\n              this.setState({ selected: key })\r\n            }}\r\n          >\r\n            {\r\n              menuList.map((m) => (\r\n                <Item key={m.link}>\r\n                  {m.icon}\r\n                  <span>{m.title}</span>\r\n                </Item>\r\n              ))\r\n            }\r\n          </Menu>\r\n          <span\r\n            style={{\r\n              position: 'absolute',\r\n              bottom: 5,\r\n              left: 0,\r\n              fontSize: 12,\r\n              color: '#ffffff68',\r\n              textAlign: 'center',\r\n              width: '100%',\r\n            }}\r\n          >Powered by Cyphersofts</span>\r\n        </Sider>\r\n        <Layout>\r\n          <Header\r\n            style={{\r\n              background: '#fff',\r\n              padding: 0,\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            <Icon\r\n              style={{ margin: 25, fontSize: 15 }}\r\n              className=\"trigger\"\r\n              type={this.state.collapsed ? 'menu-unfold' : 'menu-fold'}\r\n              onClick={this.toggle}\r\n            />\r\n\r\n            {\r\n              !this.props.currentUser.verified ?\r\n                <div\r\n                  style={{\r\n                    padding: '0px 20px',\r\n                    color: '#d13838',\r\n                    fontWeight: 'bold',\r\n                    background: '#d1383826',\r\n                    letterSpacing: '0.2px'\r\n                  }}\r\n                >\r\n                  Your email is not verified.\r\n                  <span\r\n                    style={{\r\n                      marginLeft: 10,\r\n                      color: '#000',\r\n                      cursor: 'pointer',\r\n                      textDecoration: 'underline'\r\n                    }}\r\n                    onClick={() => this.setState({ codeVerificationModal: true })}\r\n                  >Verify now!</span>\r\n                </div>\r\n                : null\r\n            }\r\n\r\n            {this.props.currentUser ?\r\n              <Dropdown overlay={this.menu} placement=\"bottomRight\">\r\n                <div style={{ lineHeight: 'initial', marginRight: 25, cursor: 'pointer' }}>\r\n                  <div\r\n                    style={{\r\n                      fontSize: 16,\r\n                      fontWeight: 'bold',\r\n                      textTransform: 'capitalize'\r\n                    }}\r\n                  >{this.props.currentUser.username} ({this.props.currentUser.role}) &#9662;</div>\r\n                  <span style={{ fontSize: 12 }}>{this.props.currentUser.email}</span><br />\r\n                </div>\r\n              </Dropdown> : null\r\n            }\r\n          </Header>\r\n          <Content>\r\n            <Switch>\r\n              {\r\n                routes.map((r, i) => (\r\n                  <Route key={i} {...r} />\r\n                ))\r\n              }\r\n            </Switch>\r\n          </Content>\r\n        </Layout>\r\n        <Modal\r\n          title=\"Email Verification\"\r\n          visible={this.state.codeVerificationModal}\r\n          destroyOnClose\r\n          onCancel={() => this.setState({ codeVerificationModal: false })}\r\n          footer={null}\r\n          centered\r\n        >\r\n          <div style={{ fontWeight: 'bold', textAlign: 'center' }}>Check your email ({this.props.currentUser.email}) for verification code.</div>\r\n          <div style={{ maxWidth: 350, margin: '20px auto', display: 'flex' }}>\r\n            <Input\r\n              disabled={this.state.verifyingCode}\r\n              value={this.state.codeValue}\r\n              onChange={e => this.setState({ codeValue: e.target.value })}\r\n              placeholder=\"Enter Verification Code\"\r\n              type='text'\r\n              onPressEnter={this.verifyUserCode}\r\n            />\r\n            <Button\r\n              onClick={this.verifyUserCode}\r\n              disabled={this.state.verificationStatus === 'verified' || this.state.codeVerifying}\r\n              type=\"primary\"\r\n              shape=\"circle\"\r\n              icon={\r\n                !this.state.verificationStatus ?\r\n                  this.state.codeVerifying ? \"loading\" : \"arrow-right\"\r\n                  : this.state.verificationStatus === 'verified' ?\r\n                    \"check\"\r\n                    : \"arrow-right\"\r\n              }\r\n              style={{\r\n                width: 35,\r\n                marginLeft: 10,\r\n                background: this.state.verificationStatus === 'verified' ? 'green' : undefined,\r\n              }}\r\n            />\r\n          </div>\r\n          <Button\r\n            style={{\r\n              margin: 'auto',\r\n              display: 'block',\r\n              width: 'fit-content',\r\n            }}\r\n            disabled={this.state.resendTimer}\r\n            loading={this.state.resendEmailLoader}\r\n            onClick={() => {\r\n              this.setState({\r\n                resendEmailLoader: true,\r\n              })\r\n\r\n              this.props.resendUserCode({\r\n                id: this.props.currentUser._id\r\n              }).then(() => {\r\n                message.success(\"Email sent successfully!\")\r\n                this.setState({\r\n                  resendEmailLoader: false,\r\n                })\r\n              })\r\n            }}\r\n          >\r\n            Resend Email <Icon type='arrow-right' /></Button>\r\n        </Modal>\r\n        <Modal\r\n          title=\"Reset Password\"\r\n          visible={this.state.pwdModal}\r\n          onCancel={() => {\r\n            this.setState({ pwdModal: false })\r\n          }}\r\n          onOk={this.handleSubmit}\r\n          okButtonProps={{\r\n            loading: this.state.changePwdLoader,\r\n          }}\r\n          destroyOnClose\r\n          centered\r\n        >\r\n          <Form labelCol={{ span: 10 }} wrapperCol={{ span: 12 }}>\r\n            <Form.Item label=\"Current Password\">\r\n              {getFieldDecorator('pwd', {\r\n                rules: [{ required: true, message: 'Current Password is required!' }],\r\n              })(<Input type='password' />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"New Password\">\r\n              {getFieldDecorator('newPwd', {\r\n                rules: [{\r\n                  required: true,\r\n                  message: 'Password must be at least 8 character',\r\n                  min: 8,\r\n                  max: 16,\r\n                }],\r\n              })(<Input type='password' />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"New Password Again\">\r\n              {getFieldDecorator('newPwdAgain', {\r\n                rules: [{\r\n                  required: true, message: 'Password must be at least 8 character', min: 8,\r\n                  max: 16,\r\n                }],\r\n              })(<Input type='password' />)}\r\n            </Form.Item>\r\n          </Form>\r\n        </Modal>\r\n      </Layout >\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  currentUser: state.auth.user,\r\n  location: state.router.location,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators({\r\n    push,\r\n    verifyUserCode,\r\n    resendUserCode,\r\n    changePassword,\r\n    logout\r\n  }, dispatch);\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create({ name: \"reset-pwd\" })(Main));","import React, { Component } from 'react';\r\nimport Login from './container/Login/Login';\r\nimport 'antd/dist/antd.css'\r\nimport './App.css';\r\nimport { Switch } from 'react-router-dom';\r\nimport ProtectedRoute from './component/ProtectedRoute/ProtectedRoute.js';\r\nimport Register from './container/Register/Register';\r\nimport PublicRoute from './component/PublicRoute/PublicRoute';\r\nimport Main from './container/Main/Main';\r\nimport { request } from './shared/verb';\r\nimport logo from './assets/logoB.png';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from './redux/services/auth';\r\nimport { setUserData, setAuthStatus } from './redux/actions/auth';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    authLoader: true,\r\n  }\r\n\r\n  verifyMe = () => {\r\n    request('user/me', null, 'get')\r\n      .then(({ data }) => {\r\n        this.props.setUserData(data.data.mongoDB[0]);\r\n        this.setState({ authLoader: false })\r\n        this.signIn();\r\n      }, () => {\r\n        this.signOut();\r\n        this.setState({ authLoader: false })\r\n      })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.verifyMe();\r\n    // this.setState({ authLoader: false })\r\n    // this.props.setAuthStatus(true);\r\n\r\n  }\r\n\r\n  NoPageFound = () => <h1>No Page Found</h1>\r\n\r\n  signIn = () => {\r\n    this.props.setAuthStatus(true);\r\n  }\r\n  signOut = () => {\r\n    this.props.logout()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.state.authLoader || this.props.isAuth === 'undecided' ?\r\n        <div className='fullscreenLoader'>\r\n          <div>\r\n            <img src={logo} alt=\"\" width={200} />\r\n            <div style={{ display: 'flex', justifyContent: 'center', margin: 30 }}>\r\n              <div className=\"dot-loader\"></div>\r\n              <div className=\"dot-loader\"></div>\r\n              <div className=\"dot-loader\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        :\r\n        <Switch>\r\n          <PublicRoute auth={this.props.isAuth} exact path='/' component={() => <Login signedIn={this.signIn} />} />\r\n          <PublicRoute auth={this.props.isAuth} exact path='/register' component={Register} />\r\n          <ProtectedRoute auth={this.props.isAuth} path='/app' component={() => <Main />} />\r\n          <ProtectedRoute auth={this.props.isAuth} path='*' component={this.NoPageFound} />\r\n        </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.authenticated,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => (\r\n  bindActionCreators({\r\n    logout,\r\n    setAuthStatus,\r\n    setUserData\r\n  }, dispatch)\r\n)\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import { actions } from '../../actions/auth';\r\n\r\nconst INITIAL_STATE = {\r\n  token: '',\r\n  user: null,\r\n  authenticated: 'undecided',\r\n};\r\n\r\nexport default function reducer(state = INITIAL_STATE, { data, type }) {\r\n  switch (type) {\r\n    case actions.SET_USER: {\r\n      return { ...state, user: data };\r\n    }\r\n    case actions.SET_USER_TOKEN: {\r\n      return { ...state, token: data };\r\n    }\r\n    case actions.SET_AUTH_STATUS: {\r\n      return { ...state, authenticated: data };\r\n    }\r\n    case \"LOGOUT\": {\r\n      return { ...INITIAL_STATE, authenticated: false };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}","import { actions } from \"../../actions/alumni\";\r\n\r\nconst initialState = {\r\n  allAlumni: [],\r\n  pendingAlumni: [],\r\n}\r\n\r\nexport default (state = initialState, { type, data }) => {\r\n  switch (type) {\r\n    case actions.SET_ALL_ALUMNI:\r\n      return { ...state, allAlumni: data }\r\n    case actions.SET_PENDING_ALUMNI:\r\n      return { ...state, pendingAlumni: data }\r\n    case 'logout':\r\n      return { ...initialState }\r\n    default:\r\n      return state\r\n  }\r\n}","import { actions } from \"../../actions/departments\";\r\n\r\nconst initialState = {\r\n  allDepartments: [],\r\n}\r\n\r\nexport default (state = initialState, { type, data }) => {\r\n  switch (type) {\r\n    case actions.SET_ALL_DEPARTMENTS:\r\n      return { ...state, allDepartments: data }\r\n    default:\r\n      return state\r\n  }\r\n}","import { actions } from \"../../actions/user\";\r\n\r\nconst initialState = {\r\n  currentUser: null\r\n}\r\n\r\nexport default (state = initialState, { type, data }) => {\r\n  switch (type) {\r\n\r\n    case actions.SET_CURRENT_USER:\r\n      return { ...state, currentUser: data }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { actions } from \"../../actions/dashboard\";\r\n\r\nconst initialState = {\r\n  stats: { alumni: 0, admins: 0, faculty: 0, departs: 0, postsCount: 0, },\r\n  communityStats: null\r\n}\r\n\r\nexport default (state = initialState, { type, data }) => {\r\n  switch (type) {\r\n\r\n    case actions.SET_DASHBOARD_STATS:\r\n      return { ...state, stats: data }\r\n    case actions.SET_COMMUNITY_STATS:\r\n      return { ...state, communityStats: data }\r\n    case 'logout':\r\n      return { ...initialState }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { actions } from '../../actions/community';\r\n\r\nconst INITIAL_STATE = {\r\n  allPosts: [],\r\n  allBroadcastedPosts: [],\r\n  broadcastedPostsCount: 0,\r\n  postsCount: 0,\r\n};\r\n\r\nexport default function reducer(state = INITIAL_STATE, { data, type }) {\r\n  switch (type) {\r\n    case actions.SET_ALL_POSTS: {\r\n      return { ...state, allPosts: data };\r\n    }\r\n    case actions.SET_POSTS_COUNT: {\r\n      return { ...state, postsCount: data };\r\n    }\r\n    case actions.SET_BROADCASTED_POSTS_COUNT: {\r\n      return { ...state, broadcastedPostsCount: data };\r\n    }\r\n    case actions.SET_BROADCASTED_POSTS: {\r\n      return { ...state, allBroadcastedPosts: data };\r\n    }\r\n    case \"LOGOUT\": {\r\n      return { ...INITIAL_STATE };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}","import { actions } from \"../../actions/hod\";\r\n\r\nconst initialState = {\r\n  allHOD: [],\r\n}\r\n\r\nexport default (state = initialState, { type, data }) => {\r\n  switch (type) {\r\n    case actions.SET_ALL_HOD:\r\n      return { ...state, allHOD: data }\r\n    default:\r\n      return state\r\n  }\r\n}","import { combineReducers } from 'redux';\r\nimport auth from './auth';\r\nimport alumni from './alumni';\r\nimport departments from './departments';\r\nimport user from './user';\r\nimport dashboard from './dashboard';\r\nimport community from './community';\r\nimport hod from './hod'\r\nimport { connectRouter } from 'connected-react-router'\r\n\r\nexport default (history) => combineReducers({\r\n  auth,\r\n  dashboard,\r\n  alumni,\r\n  departments,\r\n  user,\r\n  community,\r\n  hod,\r\n  router: connectRouter(history),\r\n});","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from '../reducers';\r\nimport * as history from 'history';\r\nimport { routerMiddleware } from 'connected-react-router'\r\n\r\nexport const newHistory = history.createBrowserHistory();\r\n\r\nexport default function configureStore(initialState = {}) {\r\n\r\n  const composeEnhancers =\r\n    typeof window === 'object' &&\r\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\r\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n        // Specify extension’s options like name, actionsBlacklist, actionsCreators, serialize...\r\n      }) : compose;\r\n\r\n  const enhancer = composeEnhancers(\r\n    applyMiddleware(\r\n      thunk,\r\n      routerMiddleware(newHistory),\r\n    ),\r\n    // other store enhancers if any\r\n  );\r\n\r\n  return createStore(\r\n    rootReducer(newHistory),\r\n    initialState,\r\n    enhancer\r\n  );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport { Provider } from 'react-redux'\r\nimport configureStore, { newHistory } from './redux/store/configureStore';\r\n\r\nconst store = configureStore();\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ConnectedRouter history={newHistory}>\r\n      <App />\r\n    </ConnectedRouter>\r\n  </Provider>\r\n  , document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"alumniProfile\":\"UserProfile_alumniProfile__Hmxvo\",\"top\":\"UserProfile_top__3FHEM\",\"backBtn\":\"UserProfile_backBtn__3QVb-\",\"profileBanner\":\"UserProfile_profileBanner__3-62j\",\"profileImg\":\"UserProfile_profileImg__DObzo\",\"profileTopData\":\"UserProfile_profileTopData__1dCdg\",\"personalDetails\":\"UserProfile_personalDetails__MFuCD\",\"info\":\"UserProfile_info__7PoVt\",\"infoItems\":\"UserProfile_infoItems__3H093\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__31RiC\",\"link\":\"Post_link__r-_8K\",\"dropDown\":\"Post_dropDown__2qci2\",\"dropDownBtn\":\"Post_dropDownBtn__2gCia\",\"mainInfo\":\"Post_mainInfo__1YHuo\",\"timeStamp\":\"Post_timeStamp__5pTcW\",\"postData\":\"Post_postData__2JRv_\",\"reactionContainer\":\"Post_reactionContainer__3Nz5o\"};","module.exports = __webpack_public_path__ + \"static/media/logo.e95ed184.png\";"],"sourceRoot":""}